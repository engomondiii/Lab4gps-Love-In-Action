{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/IWL_Fresh_Start/Lab4gps-Love-In-Action/src/components/Globe/Globe.js\",\n  _s = $RefreshSig$();\n/* global Cesium */\nimport React, { useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Globe = () => {\n  _s();\n  const globeRef = useRef(null);\n  const viewerRef = useRef(null);\n  const animationFrameRef = useRef(null);\n  useEffect(() => {\n    Cesium.Ion.defaultAccessToken = 'YOUR_ACCESS_TOKEN';\n    if (globeRef.current && !viewerRef.current) {\n      try {\n        viewerRef.current = new Cesium.Viewer(globeRef.current, {\n          imageryProvider: new Cesium.IonImageryProvider({\n            assetId: 2\n          }),\n          baseLayerPicker: false,\n          geocoder: false,\n          homeButton: false,\n          infoBox: false,\n          navigationHelpButton: false,\n          sceneModePicker: false,\n          timeline: false,\n          animation: false,\n          requestRenderMode: true,\n          maximumRenderTimeChange: Infinity\n        });\n\n        // Adjust for performance\n        viewerRef.current.scene.globe.maximumScreenSpaceError = 2;\n\n        // Set initial view to a top-down perspective\n        viewerRef.current.scene.camera.setView({\n          destination: Cesium.Cartesian3.fromDegrees(-74.0707383, 40.7117244, 10000000),\n          orientation: {\n            heading: Cesium.Math.toRadians(0),\n            pitch: Cesium.Math.toRadians(-90),\n            // Directly downwards\n            roll: 0.0\n          }\n        });\n\n        // Continuous rotation\n        const rotateEarth = () => {\n          if (!viewerRef.current) return; // Exit if viewer has been destroyed\n\n          const spinRate = 0.01; // Adjust spin rate here\n          viewerRef.current.scene.camera.rotate(Cesium.Cartesian3.UNIT_Z, spinRate);\n          animationFrameRef.current = requestAnimationFrame(rotateEarth);\n        };\n        rotateEarth();\n\n        // Stop rotation when user interacts with the globe\n        viewerRef.current.scene.screenSpaceCameraController.enableInputs = false;\n        viewerRef.current.canvas.addEventListener('pointerdown', () => {\n          cancelAnimationFrame(animationFrameRef.current);\n          viewerRef.current.scene.screenSpaceCameraController.enableInputs = true;\n        });\n        viewerRef.current.canvas.addEventListener('pointerup', () => {\n          viewerRef.current.scene.screenSpaceCameraController.enableInputs = false;\n          rotateEarth(); // Resume rotation\n        });\n      } catch (error) {\n        console.error('Failed to initialize Cesium viewer:', error);\n      }\n    }\n    return () => {\n      if (viewerRef.current) {\n        viewerRef.current.destroy();\n        viewerRef.current = null;\n      }\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: globeRef,\n    id: \"cesiumContainer\",\n    style: {\n      height: \"100vh\",\n      width: \"100vw\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 12\n  }, this);\n};\n_s(Globe, \"yLmgLAzOr2Z/Lt+c06C3n9c83YQ=\");\n_c = Globe;\nexport default Globe;\nvar _c;\n$RefreshReg$(_c, \"Globe\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","Globe","_s","globeRef","viewerRef","animationFrameRef","Cesium","Ion","defaultAccessToken","current","Viewer","imageryProvider","IonImageryProvider","assetId","baseLayerPicker","geocoder","homeButton","infoBox","navigationHelpButton","sceneModePicker","timeline","animation","requestRenderMode","maximumRenderTimeChange","Infinity","scene","globe","maximumScreenSpaceError","camera","setView","destination","Cartesian3","fromDegrees","orientation","heading","Math","toRadians","pitch","roll","rotateEarth","spinRate","rotate","UNIT_Z","requestAnimationFrame","screenSpaceCameraController","enableInputs","canvas","addEventListener","cancelAnimationFrame","error","console","destroy","ref","id","style","height","width","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mac/Desktop/IWL_Fresh_Start/Lab4gps-Love-In-Action/src/components/Globe/Globe.js"],"sourcesContent":["/* global Cesium */\nimport React, { useEffect, useRef } from 'react';\n\nconst Globe = () => {\n    const globeRef = useRef(null);\n    const viewerRef = useRef(null);\n    const animationFrameRef = useRef(null);\n\n    useEffect(() => {\n        Cesium.Ion.defaultAccessToken = 'YOUR_ACCESS_TOKEN';\n\n        if (globeRef.current && !viewerRef.current) {\n            try {\n                viewerRef.current = new Cesium.Viewer(globeRef.current, {\n                    imageryProvider: new Cesium.IonImageryProvider({ assetId: 2 }),\n                    baseLayerPicker: false,\n                    geocoder: false,\n                    homeButton: false,\n                    infoBox: false,\n                    navigationHelpButton: false,\n                    sceneModePicker: false,\n                    timeline: false,\n                    animation: false,\n                    requestRenderMode: true,\n                    maximumRenderTimeChange: Infinity,\n                });\n\n                // Adjust for performance\n                viewerRef.current.scene.globe.maximumScreenSpaceError = 2;\n\n                // Set initial view to a top-down perspective\n                viewerRef.current.scene.camera.setView({\n                    destination: Cesium.Cartesian3.fromDegrees(-74.0707383, 40.7117244, 10000000),\n                    orientation: {\n                        heading: Cesium.Math.toRadians(0),\n                        pitch: Cesium.Math.toRadians(-90), // Directly downwards\n                        roll: 0.0\n                    }\n                });\n\n                // Continuous rotation\n                const rotateEarth = () => {\n                    if (!viewerRef.current) return; // Exit if viewer has been destroyed\n\n                    const spinRate = 0.01; // Adjust spin rate here\n                    viewerRef.current.scene.camera.rotate(Cesium.Cartesian3.UNIT_Z, spinRate);\n                    animationFrameRef.current = requestAnimationFrame(rotateEarth);\n                };\n\n                rotateEarth();\n\n                // Stop rotation when user interacts with the globe\n                viewerRef.current.scene.screenSpaceCameraController.enableInputs = false;\n                viewerRef.current.canvas.addEventListener('pointerdown', () => {\n                    cancelAnimationFrame(animationFrameRef.current);\n                    viewerRef.current.scene.screenSpaceCameraController.enableInputs = true;\n                });\n\n                viewerRef.current.canvas.addEventListener('pointerup', () => {\n                    viewerRef.current.scene.screenSpaceCameraController.enableInputs = false;\n                    rotateEarth(); // Resume rotation\n                });\n\n            } catch (error) {\n                console.error('Failed to initialize Cesium viewer:', error);\n            }\n        }\n\n        return () => {\n            if (viewerRef.current) {\n                viewerRef.current.destroy();\n                viewerRef.current = null;\n            }\n            if (animationFrameRef.current) {\n                cancelAnimationFrame(animationFrameRef.current);\n            }\n        };\n    }, []);\n\n    return <div ref={globeRef} id=\"cesiumContainer\" style={{ height: \"100vh\", width: \"100vw\" }} />;\n};\n\nexport default Globe;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}