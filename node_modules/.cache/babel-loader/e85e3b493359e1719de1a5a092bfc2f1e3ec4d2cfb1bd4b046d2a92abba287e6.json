{"ast":null,"code":"const {\n  webm,\n  mp4\n} = require(\"./media.js\");\n\n// Detect iOS browsers < version 10\nconst oldIOS = () => typeof navigator !== \"undefined\" && parseFloat((\"\" + (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, \"\"])[1]).replace(\"undefined\", \"3_2\").replace(\"_\", \".\").replace(\"_\", \"\")) < 10 && !window.MSStream;\n\n// Detect native Wake Lock API support\nconst nativeWakeLock = () => \"wakeLock\" in navigator;\nclass NoSleep {\n  constructor() {\n    this.enabled = false;\n    if (nativeWakeLock()) {\n      this._wakeLock = null;\n      const handleVisibilityChange = () => {\n        if (this._wakeLock !== null && document.visibilityState === \"visible\") {\n          this.enable();\n        }\n      };\n      document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n      document.addEventListener(\"fullscreenchange\", handleVisibilityChange);\n    } else if (oldIOS()) {\n      this.noSleepTimer = null;\n    } else {\n      // Set up no sleep video element\n      this.noSleepVideo = document.createElement(\"video\");\n      this.noSleepVideo.setAttribute(\"title\", \"No Sleep\");\n      this.noSleepVideo.setAttribute(\"playsinline\", \"\");\n      this._addSourceToVideo(this.noSleepVideo, \"webm\", webm);\n      this._addSourceToVideo(this.noSleepVideo, \"mp4\", mp4);\n      this.noSleepVideo.addEventListener(\"loadedmetadata\", () => {\n        if (this.noSleepVideo.duration <= 1) {\n          // webm source\n          this.noSleepVideo.setAttribute(\"loop\", \"\");\n        } else {\n          // mp4 source\n          this.noSleepVideo.addEventListener(\"timeupdate\", () => {\n            if (this.noSleepVideo.currentTime > 0.5) {\n              this.noSleepVideo.currentTime = Math.random();\n            }\n          });\n        }\n      });\n    }\n  }\n  _addSourceToVideo(element, type, dataURI) {\n    var source = document.createElement(\"source\");\n    source.src = dataURI;\n    source.type = `video/${type}`;\n    element.appendChild(source);\n  }\n  get isEnabled() {\n    return this.enabled;\n  }\n  enable() {\n    if (nativeWakeLock()) {\n      return navigator.wakeLock.request(\"screen\").then(wakeLock => {\n        this._wakeLock = wakeLock;\n        this.enabled = true;\n        console.log(\"Wake Lock active.\");\n        this._wakeLock.addEventListener(\"release\", () => {\n          // ToDo: Potentially emit an event for the page to observe since\n          // Wake Lock releases happen when page visibility changes.\n          // (https://web.dev/wakelock/#wake-lock-lifecycle)\n          console.log(\"Wake Lock released.\");\n        });\n      }).catch(err => {\n        this.enabled = false;\n        console.error(`${err.name}, ${err.message}`);\n        throw err;\n      });\n    } else if (oldIOS()) {\n      this.disable();\n      console.warn(`\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      `);\n      this.noSleepTimer = window.setInterval(() => {\n        if (!document.hidden) {\n          window.location.href = window.location.href.split(\"#\")[0];\n          window.setTimeout(window.stop, 0);\n        }\n      }, 15000);\n      this.enabled = true;\n      return Promise.resolve();\n    } else {\n      let playPromise = this.noSleepVideo.play();\n      return playPromise.then(res => {\n        this.enabled = true;\n        return res;\n      }).catch(err => {\n        this.enabled = false;\n        throw err;\n      });\n    }\n  }\n  disable() {\n    if (nativeWakeLock()) {\n      if (this._wakeLock) {\n        this._wakeLock.release();\n      }\n      this._wakeLock = null;\n    } else if (oldIOS()) {\n      if (this.noSleepTimer) {\n        console.warn(`\n          NoSleep now disabled for older iOS devices.\n        `);\n        window.clearInterval(this.noSleepTimer);\n        this.noSleepTimer = null;\n      }\n    } else {\n      this.noSleepVideo.pause();\n    }\n    this.enabled = false;\n  }\n}\nmodule.exports = NoSleep;","map":{"version":3,"names":["webm","mp4","require","oldIOS","navigator","parseFloat","exec","userAgent","replace","window","MSStream","nativeWakeLock","NoSleep","constructor","enabled","_wakeLock","handleVisibilityChange","document","visibilityState","enable","addEventListener","noSleepTimer","noSleepVideo","createElement","setAttribute","_addSourceToVideo","duration","currentTime","Math","random","element","type","dataURI","source","src","appendChild","isEnabled","wakeLock","request","then","console","log","catch","err","error","name","message","disable","warn","setInterval","hidden","location","href","split","setTimeout","stop","Promise","resolve","playPromise","play","res","release","clearInterval","pause","module","exports"],"sources":["/Users/mac/Desktop/IWL_Fresh_Start/Lab4gps-Love-In-Action/node_modules/nosleep.js/src/index.js"],"sourcesContent":["const { webm, mp4 } = require(\"./media.js\");\n\n// Detect iOS browsers < version 10\nconst oldIOS = () =>\n  typeof navigator !== \"undefined\" &&\n  parseFloat(\n    (\n      \"\" +\n      (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(\n        navigator.userAgent\n      ) || [0, \"\"])[1]\n    )\n      .replace(\"undefined\", \"3_2\")\n      .replace(\"_\", \".\")\n      .replace(\"_\", \"\")\n  ) < 10 &&\n  !window.MSStream;\n\n// Detect native Wake Lock API support\nconst nativeWakeLock = () => \"wakeLock\" in navigator;\n\nclass NoSleep {\n  constructor() {\n    this.enabled = false;\n    if (nativeWakeLock()) {\n      this._wakeLock = null;\n      const handleVisibilityChange = () => {\n        if (this._wakeLock !== null && document.visibilityState === \"visible\") {\n          this.enable();\n        }\n      };\n      document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n      document.addEventListener(\"fullscreenchange\", handleVisibilityChange);\n    } else if (oldIOS()) {\n      this.noSleepTimer = null;\n    } else {\n      // Set up no sleep video element\n      this.noSleepVideo = document.createElement(\"video\");\n\n      this.noSleepVideo.setAttribute(\"title\", \"No Sleep\");\n      this.noSleepVideo.setAttribute(\"playsinline\", \"\");\n\n      this._addSourceToVideo(this.noSleepVideo, \"webm\", webm);\n      this._addSourceToVideo(this.noSleepVideo, \"mp4\", mp4);\n\n      this.noSleepVideo.addEventListener(\"loadedmetadata\", () => {\n        if (this.noSleepVideo.duration <= 1) {\n          // webm source\n          this.noSleepVideo.setAttribute(\"loop\", \"\");\n        } else {\n          // mp4 source\n          this.noSleepVideo.addEventListener(\"timeupdate\", () => {\n            if (this.noSleepVideo.currentTime > 0.5) {\n              this.noSleepVideo.currentTime = Math.random();\n            }\n          });\n        }\n      });\n    }\n  }\n\n  _addSourceToVideo(element, type, dataURI) {\n    var source = document.createElement(\"source\");\n    source.src = dataURI;\n    source.type = `video/${type}`;\n    element.appendChild(source);\n  }\n\n  get isEnabled() {\n    return this.enabled;\n  }\n\n  enable() {\n    if (nativeWakeLock()) {\n      return navigator.wakeLock\n        .request(\"screen\")\n        .then((wakeLock) => {\n          this._wakeLock = wakeLock;\n          this.enabled = true;\n          console.log(\"Wake Lock active.\");\n          this._wakeLock.addEventListener(\"release\", () => {\n            // ToDo: Potentially emit an event for the page to observe since\n            // Wake Lock releases happen when page visibility changes.\n            // (https://web.dev/wakelock/#wake-lock-lifecycle)\n            console.log(\"Wake Lock released.\");\n          });\n        })\n        .catch((err) => {\n          this.enabled = false;\n          console.error(`${err.name}, ${err.message}`);\n          throw err;\n        });\n    } else if (oldIOS()) {\n      this.disable();\n      console.warn(`\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      `);\n      this.noSleepTimer = window.setInterval(() => {\n        if (!document.hidden) {\n          window.location.href = window.location.href.split(\"#\")[0];\n          window.setTimeout(window.stop, 0);\n        }\n      }, 15000);\n      this.enabled = true;\n      return Promise.resolve();\n    } else {\n      let playPromise = this.noSleepVideo.play();\n      return playPromise\n        .then((res) => {\n          this.enabled = true;\n          return res;\n        })\n        .catch((err) => {\n          this.enabled = false;\n          throw err;\n        });\n    }\n  }\n\n  disable() {\n    if (nativeWakeLock()) {\n      if (this._wakeLock) {\n        this._wakeLock.release();\n      }\n      this._wakeLock = null;\n    } else if (oldIOS()) {\n      if (this.noSleepTimer) {\n        console.warn(`\n          NoSleep now disabled for older iOS devices.\n        `);\n        window.clearInterval(this.noSleepTimer);\n        this.noSleepTimer = null;\n      }\n    } else {\n      this.noSleepVideo.pause();\n    }\n    this.enabled = false;\n  }\n}\n\nmodule.exports = NoSleep;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}