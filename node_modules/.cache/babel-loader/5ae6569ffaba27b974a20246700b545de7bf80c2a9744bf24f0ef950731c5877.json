{"ast":null,"code":"import defined from \"../Core/defined.js\";\n\n/**\n * @private\n */\nfunction Cesium3DTileStyleEngine() {\n  this._style = undefined; // The style provided by the user\n  this._styleDirty = false; // true when the style is reassigned\n  this._lastStyleTime = 0; // The \"time\" when the last style was assigned\n}\nObject.defineProperties(Cesium3DTileStyleEngine.prototype, {\n  style: {\n    get: function () {\n      return this._style;\n    },\n    set: function (value) {\n      if (value === this._style) {\n        return;\n      }\n      this._style = value;\n      this._styleDirty = true;\n    }\n  }\n});\nCesium3DTileStyleEngine.prototype.makeDirty = function () {\n  this._styleDirty = true;\n};\nCesium3DTileStyleEngine.prototype.resetDirty = function () {\n  this._styleDirty = false;\n};\nCesium3DTileStyleEngine.prototype.applyStyle = function (tileset) {\n  if (!defined(tileset.root)) {\n    return;\n  }\n  if (defined(this._style) && !this._style._ready) {\n    return;\n  }\n  const styleDirty = this._styleDirty;\n  if (styleDirty) {\n    // Increase \"time\", so the style is applied to all visible tiles\n    ++this._lastStyleTime;\n  }\n  const lastStyleTime = this._lastStyleTime;\n  const statistics = tileset._statistics;\n\n  // If a new style was assigned, loop through all the visible tiles; otherwise, loop through\n  // only the tiles that are newly visible, i.e., they are visible this frame, but were not\n  // visible last frame.  In many cases, the newly selected tiles list will be short or empty.\n  const tiles = styleDirty ? tileset._selectedTiles : tileset._selectedTilesToStyle;\n  // PERFORMANCE_IDEA: does mouse-over picking basically trash this?  We need to style on\n  // pick, for example, because a feature's show may be false.\n\n  const length = tiles.length;\n  for (let i = 0; i < length; ++i) {\n    const tile = tiles[i];\n    if (tile.lastStyleTime !== lastStyleTime) {\n      // Apply the style to this tile if it wasn't already applied because:\n      //   1) the user assigned a new style to the tileset\n      //   2) this tile is now visible, but it wasn't visible when the style was first assigned\n      const content = tile.content;\n      tile.lastStyleTime = lastStyleTime;\n      content.applyStyle(this._style);\n      statistics.numberOfFeaturesStyled += content.featuresLength;\n      ++statistics.numberOfTilesStyled;\n    }\n  }\n};\nexport default Cesium3DTileStyleEngine;","map":{"version":3,"names":["defined","Cesium3DTileStyleEngine","_style","undefined","_styleDirty","_lastStyleTime","Object","defineProperties","prototype","style","get","set","value","makeDirty","resetDirty","applyStyle","tileset","root","_ready","styleDirty","lastStyleTime","statistics","_statistics","tiles","_selectedTiles","_selectedTilesToStyle","length","i","tile","content","numberOfFeaturesStyled","featuresLength","numberOfTilesStyled"],"sources":["/Users/mac/Desktop/IWL_Fresh_Start/Lab4gps-Love-In-Action/node_modules/@cesium/engine/Source/Scene/Cesium3DTileStyleEngine.js"],"sourcesContent":["import defined from \"../Core/defined.js\";\n\n/**\n * @private\n */\nfunction Cesium3DTileStyleEngine() {\n  this._style = undefined; // The style provided by the user\n  this._styleDirty = false; // true when the style is reassigned\n  this._lastStyleTime = 0; // The \"time\" when the last style was assigned\n}\n\nObject.defineProperties(Cesium3DTileStyleEngine.prototype, {\n  style: {\n    get: function () {\n      return this._style;\n    },\n    set: function (value) {\n      if (value === this._style) {\n        return;\n      }\n      this._style = value;\n      this._styleDirty = true;\n    },\n  },\n});\n\nCesium3DTileStyleEngine.prototype.makeDirty = function () {\n  this._styleDirty = true;\n};\n\nCesium3DTileStyleEngine.prototype.resetDirty = function () {\n  this._styleDirty = false;\n};\n\nCesium3DTileStyleEngine.prototype.applyStyle = function (tileset) {\n  if (!defined(tileset.root)) {\n    return;\n  }\n\n  if (defined(this._style) && !this._style._ready) {\n    return;\n  }\n\n  const styleDirty = this._styleDirty;\n\n  if (styleDirty) {\n    // Increase \"time\", so the style is applied to all visible tiles\n    ++this._lastStyleTime;\n  }\n\n  const lastStyleTime = this._lastStyleTime;\n  const statistics = tileset._statistics;\n\n  // If a new style was assigned, loop through all the visible tiles; otherwise, loop through\n  // only the tiles that are newly visible, i.e., they are visible this frame, but were not\n  // visible last frame.  In many cases, the newly selected tiles list will be short or empty.\n  const tiles = styleDirty\n    ? tileset._selectedTiles\n    : tileset._selectedTilesToStyle;\n  // PERFORMANCE_IDEA: does mouse-over picking basically trash this?  We need to style on\n  // pick, for example, because a feature's show may be false.\n\n  const length = tiles.length;\n  for (let i = 0; i < length; ++i) {\n    const tile = tiles[i];\n    if (tile.lastStyleTime !== lastStyleTime) {\n      // Apply the style to this tile if it wasn't already applied because:\n      //   1) the user assigned a new style to the tileset\n      //   2) this tile is now visible, but it wasn't visible when the style was first assigned\n      const content = tile.content;\n      tile.lastStyleTime = lastStyleTime;\n      content.applyStyle(this._style);\n      statistics.numberOfFeaturesStyled += content.featuresLength;\n      ++statistics.numberOfTilesStyled;\n    }\n  }\n};\nexport default Cesium3DTileStyleEngine;\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,oBAAoB;;AAExC;AACA;AACA;AACA,SAASC,uBAAuBA,CAAA,EAAG;EACjC,IAAI,CAACC,MAAM,GAAGC,SAAS,CAAC,CAAC;EACzB,IAAI,CAACC,WAAW,GAAG,KAAK,CAAC,CAAC;EAC1B,IAAI,CAACC,cAAc,GAAG,CAAC,CAAC,CAAC;AAC3B;AAEAC,MAAM,CAACC,gBAAgB,CAACN,uBAAuB,CAACO,SAAS,EAAE;EACzDC,KAAK,EAAE;IACLC,GAAG,EAAE,SAAAA,CAAA,EAAY;MACf,OAAO,IAAI,CAACR,MAAM;IACpB,CAAC;IACDS,GAAG,EAAE,SAAAA,CAAUC,KAAK,EAAE;MACpB,IAAIA,KAAK,KAAK,IAAI,CAACV,MAAM,EAAE;QACzB;MACF;MACA,IAAI,CAACA,MAAM,GAAGU,KAAK;MACnB,IAAI,CAACR,WAAW,GAAG,IAAI;IACzB;EACF;AACF,CAAC,CAAC;AAEFH,uBAAuB,CAACO,SAAS,CAACK,SAAS,GAAG,YAAY;EACxD,IAAI,CAACT,WAAW,GAAG,IAAI;AACzB,CAAC;AAEDH,uBAAuB,CAACO,SAAS,CAACM,UAAU,GAAG,YAAY;EACzD,IAAI,CAACV,WAAW,GAAG,KAAK;AAC1B,CAAC;AAEDH,uBAAuB,CAACO,SAAS,CAACO,UAAU,GAAG,UAAUC,OAAO,EAAE;EAChE,IAAI,CAAChB,OAAO,CAACgB,OAAO,CAACC,IAAI,CAAC,EAAE;IAC1B;EACF;EAEA,IAAIjB,OAAO,CAAC,IAAI,CAACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAACA,MAAM,CAACgB,MAAM,EAAE;IAC/C;EACF;EAEA,MAAMC,UAAU,GAAG,IAAI,CAACf,WAAW;EAEnC,IAAIe,UAAU,EAAE;IACd;IACA,EAAE,IAAI,CAACd,cAAc;EACvB;EAEA,MAAMe,aAAa,GAAG,IAAI,CAACf,cAAc;EACzC,MAAMgB,UAAU,GAAGL,OAAO,CAACM,WAAW;;EAEtC;EACA;EACA;EACA,MAAMC,KAAK,GAAGJ,UAAU,GACpBH,OAAO,CAACQ,cAAc,GACtBR,OAAO,CAACS,qBAAqB;EACjC;EACA;;EAEA,MAAMC,MAAM,GAAGH,KAAK,CAACG,MAAM;EAC3B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,MAAM,EAAE,EAAEC,CAAC,EAAE;IAC/B,MAAMC,IAAI,GAAGL,KAAK,CAACI,CAAC,CAAC;IACrB,IAAIC,IAAI,CAACR,aAAa,KAAKA,aAAa,EAAE;MACxC;MACA;MACA;MACA,MAAMS,OAAO,GAAGD,IAAI,CAACC,OAAO;MAC5BD,IAAI,CAACR,aAAa,GAAGA,aAAa;MAClCS,OAAO,CAACd,UAAU,CAAC,IAAI,CAACb,MAAM,CAAC;MAC/BmB,UAAU,CAACS,sBAAsB,IAAID,OAAO,CAACE,cAAc;MAC3D,EAAEV,UAAU,CAACW,mBAAmB;IAClC;EACF;AACF,CAAC;AACD,eAAe/B,uBAAuB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}