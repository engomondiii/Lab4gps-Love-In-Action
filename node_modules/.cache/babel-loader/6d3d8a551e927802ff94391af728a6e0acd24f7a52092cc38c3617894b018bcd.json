{"ast":null,"code":"import defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\n\n/**\n * @private\n */\nfunction TextureCache() {\n  this._textures = {};\n  this._numberOfTextures = 0;\n  this._texturesToRelease = {};\n}\nObject.defineProperties(TextureCache.prototype, {\n  numberOfTextures: {\n    get: function () {\n      return this._numberOfTextures;\n    }\n  }\n});\nTextureCache.prototype.getTexture = function (keyword) {\n  const cachedTexture = this._textures[keyword];\n  if (!defined(cachedTexture)) {\n    return undefined;\n  }\n\n  // No longer want to release this if it was previously released.\n  delete this._texturesToRelease[keyword];\n  ++cachedTexture.count;\n  return cachedTexture.texture;\n};\nTextureCache.prototype.addTexture = function (keyword, texture) {\n  const cachedTexture = {\n    texture: texture,\n    count: 1\n  };\n  texture.finalDestroy = texture.destroy;\n  const that = this;\n  texture.destroy = function () {\n    if (--cachedTexture.count === 0) {\n      that._texturesToRelease[keyword] = cachedTexture;\n    }\n  };\n  this._textures[keyword] = cachedTexture;\n  ++this._numberOfTextures;\n};\nTextureCache.prototype.destroyReleasedTextures = function () {\n  const texturesToRelease = this._texturesToRelease;\n  for (const keyword in texturesToRelease) {\n    if (texturesToRelease.hasOwnProperty(keyword)) {\n      const cachedTexture = texturesToRelease[keyword];\n      delete this._textures[keyword];\n      cachedTexture.texture.finalDestroy();\n      --this._numberOfTextures;\n    }\n  }\n  this._texturesToRelease = {};\n};\nTextureCache.prototype.isDestroyed = function () {\n  return false;\n};\nTextureCache.prototype.destroy = function () {\n  const textures = this._textures;\n  for (const keyword in textures) {\n    if (textures.hasOwnProperty(keyword)) {\n      textures[keyword].texture.finalDestroy();\n    }\n  }\n  return destroyObject(this);\n};\nexport default TextureCache;","map":{"version":3,"names":["defined","destroyObject","TextureCache","_textures","_numberOfTextures","_texturesToRelease","Object","defineProperties","prototype","numberOfTextures","get","getTexture","keyword","cachedTexture","undefined","count","texture","addTexture","finalDestroy","destroy","that","destroyReleasedTextures","texturesToRelease","hasOwnProperty","isDestroyed","textures"],"sources":["/Users/mac/Desktop/IWL_Fresh_Start/Lab4gps-Love-In-Action/node_modules/@cesium/engine/Source/Renderer/TextureCache.js"],"sourcesContent":["import defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\n\n/**\n * @private\n */\nfunction TextureCache() {\n  this._textures = {};\n  this._numberOfTextures = 0;\n  this._texturesToRelease = {};\n}\n\nObject.defineProperties(TextureCache.prototype, {\n  numberOfTextures: {\n    get: function () {\n      return this._numberOfTextures;\n    },\n  },\n});\n\nTextureCache.prototype.getTexture = function (keyword) {\n  const cachedTexture = this._textures[keyword];\n  if (!defined(cachedTexture)) {\n    return undefined;\n  }\n\n  // No longer want to release this if it was previously released.\n  delete this._texturesToRelease[keyword];\n\n  ++cachedTexture.count;\n  return cachedTexture.texture;\n};\n\nTextureCache.prototype.addTexture = function (keyword, texture) {\n  const cachedTexture = {\n    texture: texture,\n    count: 1,\n  };\n\n  texture.finalDestroy = texture.destroy;\n\n  const that = this;\n  texture.destroy = function () {\n    if (--cachedTexture.count === 0) {\n      that._texturesToRelease[keyword] = cachedTexture;\n    }\n  };\n\n  this._textures[keyword] = cachedTexture;\n  ++this._numberOfTextures;\n};\n\nTextureCache.prototype.destroyReleasedTextures = function () {\n  const texturesToRelease = this._texturesToRelease;\n\n  for (const keyword in texturesToRelease) {\n    if (texturesToRelease.hasOwnProperty(keyword)) {\n      const cachedTexture = texturesToRelease[keyword];\n      delete this._textures[keyword];\n      cachedTexture.texture.finalDestroy();\n      --this._numberOfTextures;\n    }\n  }\n\n  this._texturesToRelease = {};\n};\n\nTextureCache.prototype.isDestroyed = function () {\n  return false;\n};\n\nTextureCache.prototype.destroy = function () {\n  const textures = this._textures;\n  for (const keyword in textures) {\n    if (textures.hasOwnProperty(keyword)) {\n      textures[keyword].texture.finalDestroy();\n    }\n  }\n  return destroyObject(this);\n};\nexport default TextureCache;\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,oBAAoB;AACxC,OAAOC,aAAa,MAAM,0BAA0B;;AAEpD;AACA;AACA;AACA,SAASC,YAAYA,CAAA,EAAG;EACtB,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC;EACnB,IAAI,CAACC,iBAAiB,GAAG,CAAC;EAC1B,IAAI,CAACC,kBAAkB,GAAG,CAAC,CAAC;AAC9B;AAEAC,MAAM,CAACC,gBAAgB,CAACL,YAAY,CAACM,SAAS,EAAE;EAC9CC,gBAAgB,EAAE;IAChBC,GAAG,EAAE,SAAAA,CAAA,EAAY;MACf,OAAO,IAAI,CAACN,iBAAiB;IAC/B;EACF;AACF,CAAC,CAAC;AAEFF,YAAY,CAACM,SAAS,CAACG,UAAU,GAAG,UAAUC,OAAO,EAAE;EACrD,MAAMC,aAAa,GAAG,IAAI,CAACV,SAAS,CAACS,OAAO,CAAC;EAC7C,IAAI,CAACZ,OAAO,CAACa,aAAa,CAAC,EAAE;IAC3B,OAAOC,SAAS;EAClB;;EAEA;EACA,OAAO,IAAI,CAACT,kBAAkB,CAACO,OAAO,CAAC;EAEvC,EAAEC,aAAa,CAACE,KAAK;EACrB,OAAOF,aAAa,CAACG,OAAO;AAC9B,CAAC;AAEDd,YAAY,CAACM,SAAS,CAACS,UAAU,GAAG,UAAUL,OAAO,EAAEI,OAAO,EAAE;EAC9D,MAAMH,aAAa,GAAG;IACpBG,OAAO,EAAEA,OAAO;IAChBD,KAAK,EAAE;EACT,CAAC;EAEDC,OAAO,CAACE,YAAY,GAAGF,OAAO,CAACG,OAAO;EAEtC,MAAMC,IAAI,GAAG,IAAI;EACjBJ,OAAO,CAACG,OAAO,GAAG,YAAY;IAC5B,IAAI,EAAEN,aAAa,CAACE,KAAK,KAAK,CAAC,EAAE;MAC/BK,IAAI,CAACf,kBAAkB,CAACO,OAAO,CAAC,GAAGC,aAAa;IAClD;EACF,CAAC;EAED,IAAI,CAACV,SAAS,CAACS,OAAO,CAAC,GAAGC,aAAa;EACvC,EAAE,IAAI,CAACT,iBAAiB;AAC1B,CAAC;AAEDF,YAAY,CAACM,SAAS,CAACa,uBAAuB,GAAG,YAAY;EAC3D,MAAMC,iBAAiB,GAAG,IAAI,CAACjB,kBAAkB;EAEjD,KAAK,MAAMO,OAAO,IAAIU,iBAAiB,EAAE;IACvC,IAAIA,iBAAiB,CAACC,cAAc,CAACX,OAAO,CAAC,EAAE;MAC7C,MAAMC,aAAa,GAAGS,iBAAiB,CAACV,OAAO,CAAC;MAChD,OAAO,IAAI,CAACT,SAAS,CAACS,OAAO,CAAC;MAC9BC,aAAa,CAACG,OAAO,CAACE,YAAY,CAAC,CAAC;MACpC,EAAE,IAAI,CAACd,iBAAiB;IAC1B;EACF;EAEA,IAAI,CAACC,kBAAkB,GAAG,CAAC,CAAC;AAC9B,CAAC;AAEDH,YAAY,CAACM,SAAS,CAACgB,WAAW,GAAG,YAAY;EAC/C,OAAO,KAAK;AACd,CAAC;AAEDtB,YAAY,CAACM,SAAS,CAACW,OAAO,GAAG,YAAY;EAC3C,MAAMM,QAAQ,GAAG,IAAI,CAACtB,SAAS;EAC/B,KAAK,MAAMS,OAAO,IAAIa,QAAQ,EAAE;IAC9B,IAAIA,QAAQ,CAACF,cAAc,CAACX,OAAO,CAAC,EAAE;MACpCa,QAAQ,CAACb,OAAO,CAAC,CAACI,OAAO,CAACE,YAAY,CAAC,CAAC;IAC1C;EACF;EACA,OAAOjB,aAAa,CAAC,IAAI,CAAC;AAC5B,CAAC;AACD,eAAeC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}