{"ast":null,"code":"import defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Ellipsoid from \"../Core/Ellipsoid.js\";\nimport Event from \"../Core/Event.js\";\nimport JulianDate from \"../Core/JulianDate.js\";\nimport ReferenceFrame from \"../Core/ReferenceFrame.js\";\nimport Property from \"./Property.js\";\n\n/**\n * This is a temporary class for scaling position properties to the ellipsoid surface.\n * It will go away or be refactored to support data with arbitrary height references.\n * @private\n */\nfunction ScaledPositionProperty(value) {\n  this._definitionChanged = new Event();\n  this._value = undefined;\n  this._removeSubscription = undefined;\n  this.setValue(value);\n}\nObject.defineProperties(ScaledPositionProperty.prototype, {\n  isConstant: {\n    get: function () {\n      return Property.isConstant(this._value);\n    }\n  },\n  definitionChanged: {\n    get: function () {\n      return this._definitionChanged;\n    }\n  },\n  referenceFrame: {\n    get: function () {\n      return defined(this._value) ? this._value.referenceFrame : ReferenceFrame.FIXED;\n    }\n  }\n});\nconst timeScratch = new JulianDate();\nScaledPositionProperty.prototype.getValue = function (time, result) {\n  if (!defined(time)) {\n    time = JulianDate.now(timeScratch);\n  }\n  return this.getValueInReferenceFrame(time, ReferenceFrame.FIXED, result);\n};\nScaledPositionProperty.prototype.setValue = function (value) {\n  if (this._value !== value) {\n    this._value = value;\n    if (defined(this._removeSubscription)) {\n      this._removeSubscription();\n      this._removeSubscription = undefined;\n    }\n    if (defined(value)) {\n      this._removeSubscription = value.definitionChanged.addEventListener(this._raiseDefinitionChanged, this);\n    }\n    this._definitionChanged.raiseEvent(this);\n  }\n};\nScaledPositionProperty.prototype.getValueInReferenceFrame = function (time, referenceFrame, result) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(time)) {\n    throw new DeveloperError(\"time is required.\");\n  }\n  if (!defined(referenceFrame)) {\n    throw new DeveloperError(\"referenceFrame is required.\");\n  }\n  //>>includeEnd('debug');\n\n  if (!defined(this._value)) {\n    return undefined;\n  }\n  result = this._value.getValueInReferenceFrame(time, referenceFrame, result);\n  return defined(result) ? Ellipsoid.default.scaleToGeodeticSurface(result, result) : undefined;\n};\nScaledPositionProperty.prototype.equals = function (other) {\n  return this === other || other instanceof ScaledPositionProperty && this._value === other._value;\n};\nScaledPositionProperty.prototype._raiseDefinitionChanged = function () {\n  this._definitionChanged.raiseEvent(this);\n};\nexport default ScaledPositionProperty;","map":{"version":3,"names":["defined","DeveloperError","Ellipsoid","Event","JulianDate","ReferenceFrame","Property","ScaledPositionProperty","value","_definitionChanged","_value","undefined","_removeSubscription","setValue","Object","defineProperties","prototype","isConstant","get","definitionChanged","referenceFrame","FIXED","timeScratch","getValue","time","result","now","getValueInReferenceFrame","addEventListener","_raiseDefinitionChanged","raiseEvent","default","scaleToGeodeticSurface","equals","other"],"sources":["/Users/mac/Desktop/IWL_Fresh_Start/Lab4gps-Love-In-Action/node_modules/@cesium/engine/Source/DataSources/ScaledPositionProperty.js"],"sourcesContent":["import defined from \"../Core/defined.js\";\nimport DeveloperError from \"../Core/DeveloperError.js\";\nimport Ellipsoid from \"../Core/Ellipsoid.js\";\nimport Event from \"../Core/Event.js\";\nimport JulianDate from \"../Core/JulianDate.js\";\nimport ReferenceFrame from \"../Core/ReferenceFrame.js\";\nimport Property from \"./Property.js\";\n\n/**\n * This is a temporary class for scaling position properties to the ellipsoid surface.\n * It will go away or be refactored to support data with arbitrary height references.\n * @private\n */\nfunction ScaledPositionProperty(value) {\n  this._definitionChanged = new Event();\n  this._value = undefined;\n  this._removeSubscription = undefined;\n  this.setValue(value);\n}\n\nObject.defineProperties(ScaledPositionProperty.prototype, {\n  isConstant: {\n    get: function () {\n      return Property.isConstant(this._value);\n    },\n  },\n  definitionChanged: {\n    get: function () {\n      return this._definitionChanged;\n    },\n  },\n  referenceFrame: {\n    get: function () {\n      return defined(this._value)\n        ? this._value.referenceFrame\n        : ReferenceFrame.FIXED;\n    },\n  },\n});\n\nconst timeScratch = new JulianDate();\n\nScaledPositionProperty.prototype.getValue = function (time, result) {\n  if (!defined(time)) {\n    time = JulianDate.now(timeScratch);\n  }\n  return this.getValueInReferenceFrame(time, ReferenceFrame.FIXED, result);\n};\n\nScaledPositionProperty.prototype.setValue = function (value) {\n  if (this._value !== value) {\n    this._value = value;\n\n    if (defined(this._removeSubscription)) {\n      this._removeSubscription();\n      this._removeSubscription = undefined;\n    }\n\n    if (defined(value)) {\n      this._removeSubscription = value.definitionChanged.addEventListener(\n        this._raiseDefinitionChanged,\n        this,\n      );\n    }\n    this._definitionChanged.raiseEvent(this);\n  }\n};\n\nScaledPositionProperty.prototype.getValueInReferenceFrame = function (\n  time,\n  referenceFrame,\n  result,\n) {\n  //>>includeStart('debug', pragmas.debug);\n  if (!defined(time)) {\n    throw new DeveloperError(\"time is required.\");\n  }\n  if (!defined(referenceFrame)) {\n    throw new DeveloperError(\"referenceFrame is required.\");\n  }\n  //>>includeEnd('debug');\n\n  if (!defined(this._value)) {\n    return undefined;\n  }\n\n  result = this._value.getValueInReferenceFrame(time, referenceFrame, result);\n  return defined(result)\n    ? Ellipsoid.default.scaleToGeodeticSurface(result, result)\n    : undefined;\n};\n\nScaledPositionProperty.prototype.equals = function (other) {\n  return (\n    this === other ||\n    (other instanceof ScaledPositionProperty && this._value === other._value)\n  );\n};\n\nScaledPositionProperty.prototype._raiseDefinitionChanged = function () {\n  this._definitionChanged.raiseEvent(this);\n};\nexport default ScaledPositionProperty;\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,oBAAoB;AACxC,OAAOC,cAAc,MAAM,2BAA2B;AACtD,OAAOC,SAAS,MAAM,sBAAsB;AAC5C,OAAOC,KAAK,MAAM,kBAAkB;AACpC,OAAOC,UAAU,MAAM,uBAAuB;AAC9C,OAAOC,cAAc,MAAM,2BAA2B;AACtD,OAAOC,QAAQ,MAAM,eAAe;;AAEpC;AACA;AACA;AACA;AACA;AACA,SAASC,sBAAsBA,CAACC,KAAK,EAAE;EACrC,IAAI,CAACC,kBAAkB,GAAG,IAAIN,KAAK,CAAC,CAAC;EACrC,IAAI,CAACO,MAAM,GAAGC,SAAS;EACvB,IAAI,CAACC,mBAAmB,GAAGD,SAAS;EACpC,IAAI,CAACE,QAAQ,CAACL,KAAK,CAAC;AACtB;AAEAM,MAAM,CAACC,gBAAgB,CAACR,sBAAsB,CAACS,SAAS,EAAE;EACxDC,UAAU,EAAE;IACVC,GAAG,EAAE,SAAAA,CAAA,EAAY;MACf,OAAOZ,QAAQ,CAACW,UAAU,CAAC,IAAI,CAACP,MAAM,CAAC;IACzC;EACF,CAAC;EACDS,iBAAiB,EAAE;IACjBD,GAAG,EAAE,SAAAA,CAAA,EAAY;MACf,OAAO,IAAI,CAACT,kBAAkB;IAChC;EACF,CAAC;EACDW,cAAc,EAAE;IACdF,GAAG,EAAE,SAAAA,CAAA,EAAY;MACf,OAAOlB,OAAO,CAAC,IAAI,CAACU,MAAM,CAAC,GACvB,IAAI,CAACA,MAAM,CAACU,cAAc,GAC1Bf,cAAc,CAACgB,KAAK;IAC1B;EACF;AACF,CAAC,CAAC;AAEF,MAAMC,WAAW,GAAG,IAAIlB,UAAU,CAAC,CAAC;AAEpCG,sBAAsB,CAACS,SAAS,CAACO,QAAQ,GAAG,UAAUC,IAAI,EAAEC,MAAM,EAAE;EAClE,IAAI,CAACzB,OAAO,CAACwB,IAAI,CAAC,EAAE;IAClBA,IAAI,GAAGpB,UAAU,CAACsB,GAAG,CAACJ,WAAW,CAAC;EACpC;EACA,OAAO,IAAI,CAACK,wBAAwB,CAACH,IAAI,EAAEnB,cAAc,CAACgB,KAAK,EAAEI,MAAM,CAAC;AAC1E,CAAC;AAEDlB,sBAAsB,CAACS,SAAS,CAACH,QAAQ,GAAG,UAAUL,KAAK,EAAE;EAC3D,IAAI,IAAI,CAACE,MAAM,KAAKF,KAAK,EAAE;IACzB,IAAI,CAACE,MAAM,GAAGF,KAAK;IAEnB,IAAIR,OAAO,CAAC,IAAI,CAACY,mBAAmB,CAAC,EAAE;MACrC,IAAI,CAACA,mBAAmB,CAAC,CAAC;MAC1B,IAAI,CAACA,mBAAmB,GAAGD,SAAS;IACtC;IAEA,IAAIX,OAAO,CAACQ,KAAK,CAAC,EAAE;MAClB,IAAI,CAACI,mBAAmB,GAAGJ,KAAK,CAACW,iBAAiB,CAACS,gBAAgB,CACjE,IAAI,CAACC,uBAAuB,EAC5B,IACF,CAAC;IACH;IACA,IAAI,CAACpB,kBAAkB,CAACqB,UAAU,CAAC,IAAI,CAAC;EAC1C;AACF,CAAC;AAEDvB,sBAAsB,CAACS,SAAS,CAACW,wBAAwB,GAAG,UAC1DH,IAAI,EACJJ,cAAc,EACdK,MAAM,EACN;EACA;EACA,IAAI,CAACzB,OAAO,CAACwB,IAAI,CAAC,EAAE;IAClB,MAAM,IAAIvB,cAAc,CAAC,mBAAmB,CAAC;EAC/C;EACA,IAAI,CAACD,OAAO,CAACoB,cAAc,CAAC,EAAE;IAC5B,MAAM,IAAInB,cAAc,CAAC,6BAA6B,CAAC;EACzD;EACA;;EAEA,IAAI,CAACD,OAAO,CAAC,IAAI,CAACU,MAAM,CAAC,EAAE;IACzB,OAAOC,SAAS;EAClB;EAEAc,MAAM,GAAG,IAAI,CAACf,MAAM,CAACiB,wBAAwB,CAACH,IAAI,EAAEJ,cAAc,EAAEK,MAAM,CAAC;EAC3E,OAAOzB,OAAO,CAACyB,MAAM,CAAC,GAClBvB,SAAS,CAAC6B,OAAO,CAACC,sBAAsB,CAACP,MAAM,EAAEA,MAAM,CAAC,GACxDd,SAAS;AACf,CAAC;AAEDJ,sBAAsB,CAACS,SAAS,CAACiB,MAAM,GAAG,UAAUC,KAAK,EAAE;EACzD,OACE,IAAI,KAAKA,KAAK,IACbA,KAAK,YAAY3B,sBAAsB,IAAI,IAAI,CAACG,MAAM,KAAKwB,KAAK,CAACxB,MAAO;AAE7E,CAAC;AAEDH,sBAAsB,CAACS,SAAS,CAACa,uBAAuB,GAAG,YAAY;EACrE,IAAI,CAACpB,kBAAkB,CAACqB,UAAU,CAAC,IAAI,CAAC;AAC1C,CAAC;AACD,eAAevB,sBAAsB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}