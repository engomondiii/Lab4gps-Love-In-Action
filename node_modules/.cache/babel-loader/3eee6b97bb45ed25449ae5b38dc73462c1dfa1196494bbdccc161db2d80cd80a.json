{"ast":null,"code":"import AssociativeArray from \"../Core/AssociativeArray.js\";\nimport buildModuleUrl from \"../Core/buildModuleUrl.js\";\nimport Check from \"../Core/Check.js\";\nimport Credit from \"../Core/Credit.js\";\nimport defaultValue from \"../Core/defaultValue.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport Uri from \"urijs\";\nconst mobileWidth = 576;\nconst lightboxHeight = 100;\nconst textColor = \"#ffffff\";\nconst highlightColor = \"#48b\";\n\n/**\n * Used to sort the credits by frequency of appearance\n * when they are later displayed.\n *\n * @alias CreditDisplay.CreditDisplayElement\n * @constructor\n *\n * @private\n */\nfunction CreditDisplayElement(credit, count) {\n  this.credit = credit;\n  this.count = defaultValue(count, 1);\n}\nfunction contains(credits, credit) {\n  const len = credits.length;\n  for (let i = 0; i < len; i++) {\n    const existingCredit = credits[i];\n    if (Credit.equals(existingCredit, credit)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction swapCesiumCredit(creditDisplay) {\n  // We don't want to clutter the screen with the Cesium logo and the Cesium ion\n  // logo at the same time. Since the ion logo is required, we just replace the\n  // Cesium logo or add the logo if the Cesium one was removed.\n  const previousCredit = creditDisplay._previousCesiumCredit;\n  const currentCredit = creditDisplay._currentCesiumCredit;\n  if (Credit.equals(currentCredit, previousCredit)) {\n    return;\n  }\n  if (defined(previousCredit)) {\n    creditDisplay._cesiumCreditContainer.removeChild(previousCredit.element);\n  }\n  if (defined(currentCredit)) {\n    creditDisplay._cesiumCreditContainer.appendChild(currentCredit.element);\n  }\n  creditDisplay._previousCesiumCredit = currentCredit;\n}\nconst delimiterClassName = \"cesium-credit-delimiter\";\nfunction createDelimiterElement(delimiter) {\n  const delimiterElement = document.createElement(\"span\");\n  delimiterElement.textContent = delimiter;\n  delimiterElement.className = delimiterClassName;\n  return delimiterElement;\n}\nfunction createCreditElement(element, elementWrapperTagName) {\n  // may need to wrap the credit in another element\n  if (defined(elementWrapperTagName)) {\n    const wrapper = document.createElement(elementWrapperTagName);\n    wrapper._creditId = element._creditId;\n    wrapper.appendChild(element);\n    element = wrapper;\n  }\n  return element;\n}\nfunction displayCredits(container, credits, delimiter, elementWrapperTagName) {\n  const childNodes = container.childNodes;\n  let domIndex = -1;\n\n  // Sort the credits such that more frequent credits appear first\n  credits.sort(function (credit1, credit2) {\n    return credit2.count - credit1.count;\n  });\n  for (let creditIndex = 0; creditIndex < credits.length; ++creditIndex) {\n    const credit = credits[creditIndex].credit;\n    if (defined(credit)) {\n      domIndex = creditIndex;\n      if (defined(delimiter)) {\n        // credits may be separated by delimiters\n        domIndex *= 2;\n        if (creditIndex > 0) {\n          const delimiterDomIndex = domIndex - 1;\n          if (childNodes.length <= delimiterDomIndex) {\n            container.appendChild(createDelimiterElement(delimiter));\n          } else {\n            const existingDelimiter = childNodes[delimiterDomIndex];\n            if (existingDelimiter.className !== delimiterClassName) {\n              container.replaceChild(createDelimiterElement(delimiter), existingDelimiter);\n            }\n          }\n        }\n      }\n      const element = credit.element;\n\n      // check to see if the correct credit is in the right place\n      if (childNodes.length <= domIndex) {\n        container.appendChild(createCreditElement(element, elementWrapperTagName));\n      } else {\n        const existingElement = childNodes[domIndex];\n        if (existingElement._creditId !== credit._id) {\n          // not the right credit, swap it in\n          container.replaceChild(createCreditElement(element, elementWrapperTagName), existingElement);\n        }\n      }\n    }\n  }\n\n  // any remaining nodes in the container are unnecessary\n  ++domIndex;\n  while (domIndex < childNodes.length) {\n    container.removeChild(childNodes[domIndex]);\n  }\n}\nfunction styleLightboxContainer(that) {\n  const lightboxCredits = that._lightboxCredits;\n  const width = that.viewport.clientWidth;\n  const height = that.viewport.clientHeight;\n  if (width !== that._lastViewportWidth) {\n    if (width < mobileWidth) {\n      lightboxCredits.className = \"cesium-credit-lightbox cesium-credit-lightbox-mobile\";\n      lightboxCredits.style.marginTop = \"0\";\n    } else {\n      lightboxCredits.className = \"cesium-credit-lightbox cesium-credit-lightbox-expanded\";\n      lightboxCredits.style.marginTop = `${Math.floor((height - lightboxCredits.clientHeight) * 0.5)}px`;\n    }\n    that._lastViewportWidth = width;\n  }\n  if (width >= mobileWidth && height !== that._lastViewportHeight) {\n    lightboxCredits.style.marginTop = `${Math.floor((height - lightboxCredits.clientHeight) * 0.5)}px`;\n    that._lastViewportHeight = height;\n  }\n}\nfunction appendCss(container) {\n  const style = /*css*/`\n.cesium-credit-lightbox-overlay {\n  display: none;\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(80, 80, 80, 0.8);\n}\n\n.cesium-credit-lightbox {\n  background-color: #303336;\n  color: ${textColor};\n  position: relative;\n  min-height: ${lightboxHeight}px;\n  margin: auto;\n}\n.cesium-credit-lightbox > ul > li a,\n.cesium-credit-lightbox > ul > li a:visited,\n.cesium-credit-wrapper a,\n.cesium-credit-wrapper a:visited {\n  color: ${textColor};\n}\n.cesium-credit-lightbox > ul > li a:hover {\n  color: ${highlightColor};\n}\n.cesium-credit-lightbox.cesium-credit-lightbox-expanded {\n  border: 1px solid #444;\n  border-radius: 5px;\n  max-width: 370px;\n}\n.cesium-credit-lightbox.cesium-credit-lightbox-mobile {\n  height: 100%;\n  width: 100%;\n}\n.cesium-credit-lightbox-title {\n  padding: 20px 20px 0 20px;\n}\n.cesium-credit-lightbox-close {\n  font-size: 18pt;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 6px;\n  color: ${textColor};\n}\n.cesium-credit-lightbox-close:hover {\n  color: ${highlightColor};\n}\n.cesium-credit-lightbox > ul {\n  margin: 0;\n  padding: 12px 20px 12px 40px;\n  font-size: 13px;\n}\n.cesium-credit-lightbox > ul > li {\n  padding-bottom: 6px;\n}\n.cesium-credit-lightbox > ul > li * {\n  padding: 0;\n  margin: 0;\n}\n\n.cesium-credit-expand-link {\n  padding-left: 5px;\n  cursor: pointer;\n  text-decoration: underline;\n  color: ${textColor};\n}\n.cesium-credit-expand-link:hover {\n  color: ${highlightColor};\n}\n\n.cesium-credit-text {\n  color: ${textColor};\n}\n\n.cesium-credit-delimiter {\n  padding: 0 5px;\n}\n\n.cesium-credit-textContainer *,\n.cesium-credit-logoContainer * {\n  display: inline;\n}\n\n.cesium-credit-textContainer a:hover {\n  color: ${highlightColor}\n}\n\n.cesium-credit-textContainer .cesium-credit-wrapper:first-of-type {\n  padding-left: 5px;\n}\n`;\n  function getShadowRoot(container) {\n    if (container.shadowRoot) {\n      return container.shadowRoot;\n    }\n    if (container.getRootNode) {\n      const root = container.getRootNode();\n      if (root instanceof ShadowRoot) {\n        return root;\n      }\n    }\n    return undefined;\n  }\n  const shadowRootOrDocumentHead = defaultValue(getShadowRoot(container), document.head);\n  const styleElem = document.createElement(\"style\");\n  styleElem.innerHTML = style;\n  shadowRootOrDocumentHead.appendChild(styleElem);\n}\n\n/**\n * The credit display is responsible for displaying credits on screen.\n *\n * @param {HTMLElement} container The HTML element where credits will be displayed\n * @param {string} [delimiter= 'â€¢'] The string to separate text credits\n * @param {HTMLElement} [viewport=document.body] The HTML element that will contain the credits popup\n *\n * @alias CreditDisplay\n * @constructor\n *\n * @example\n * // Add a credit with a tooltip, image and link to display onscreen\n * const credit = new Cesium.Credit(`<a href=\"https://cesium.com/\" target=\"_blank\"><img src=\"/images/cesium_logo.png\" title=\"Cesium\"/></a>`, true);\n * viewer.creditDisplay.addStaticCredit(credit);\n *\n * @example\n * // Add a credit with a plaintext link to display in the lightbox\n * const credit = new Cesium.Credit('<a href=\"https://cesium.com/\" target=\"_blank\">Cesium</a>');\n * viewer.creditDisplay.addStaticCredit(credit);\n */\nfunction CreditDisplay(container, delimiter, viewport) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"container\", container);\n  //>>includeEnd('debug');\n  const that = this;\n  viewport = defaultValue(viewport, document.body);\n  const lightbox = document.createElement(\"div\");\n  lightbox.className = \"cesium-credit-lightbox-overlay\";\n  viewport.appendChild(lightbox);\n  const lightboxCredits = document.createElement(\"div\");\n  lightboxCredits.className = \"cesium-credit-lightbox\";\n  lightbox.appendChild(lightboxCredits);\n  function hideLightbox(event) {\n    if (lightboxCredits.contains(event.target)) {\n      return;\n    }\n    that.hideLightbox();\n  }\n  lightbox.addEventListener(\"click\", hideLightbox, false);\n  const title = document.createElement(\"div\");\n  title.className = \"cesium-credit-lightbox-title\";\n  title.textContent = \"Data provided by:\";\n  lightboxCredits.appendChild(title);\n  const closeButton = document.createElement(\"a\");\n  closeButton.onclick = this.hideLightbox.bind(this);\n  closeButton.innerHTML = \"&times;\";\n  closeButton.className = \"cesium-credit-lightbox-close\";\n  lightboxCredits.appendChild(closeButton);\n  const creditList = document.createElement(\"ul\");\n  lightboxCredits.appendChild(creditList);\n  const cesiumCreditContainer = document.createElement(\"div\");\n  cesiumCreditContainer.className = \"cesium-credit-logoContainer\";\n  cesiumCreditContainer.style.display = \"inline\";\n  container.appendChild(cesiumCreditContainer);\n  const screenContainer = document.createElement(\"div\");\n  screenContainer.className = \"cesium-credit-textContainer\";\n  screenContainer.style.display = \"inline\";\n  container.appendChild(screenContainer);\n  const expandLink = document.createElement(\"a\");\n  expandLink.className = \"cesium-credit-expand-link\";\n  expandLink.onclick = this.showLightbox.bind(this);\n  expandLink.textContent = \"Data attribution\";\n  container.appendChild(expandLink);\n  appendCss(container);\n  const cesiumCredit = Credit.clone(CreditDisplay.cesiumCredit);\n  this._delimiter = defaultValue(delimiter, \"â€¢\");\n  this._screenContainer = screenContainer;\n  this._cesiumCreditContainer = cesiumCreditContainer;\n  this._lastViewportHeight = undefined;\n  this._lastViewportWidth = undefined;\n  this._lightboxCredits = lightboxCredits;\n  this._creditList = creditList;\n  this._lightbox = lightbox;\n  this._hideLightbox = hideLightbox;\n  this._expandLink = expandLink;\n  this._expanded = false;\n  this._staticCredits = [];\n  this._cesiumCredit = cesiumCredit;\n  this._previousCesiumCredit = undefined;\n  this._currentCesiumCredit = cesiumCredit;\n  this._creditDisplayElementPool = [];\n  this._creditDisplayElementIndex = 0;\n  this._currentFrameCredits = {\n    screenCredits: new AssociativeArray(),\n    lightboxCredits: new AssociativeArray()\n  };\n  this._defaultCredit = undefined;\n  this.viewport = viewport;\n\n  /**\n   * The HTML element where credits will be displayed.\n   * @type {HTMLElement}\n   */\n  this.container = container;\n}\nfunction setCredit(creditDisplay, credits, credit, count) {\n  count = defaultValue(count, 1);\n  let creditDisplayElement = credits.get(credit.id);\n  if (!defined(creditDisplayElement)) {\n    const pool = creditDisplay._creditDisplayElementPool;\n    const poolIndex = creditDisplay._creditDisplayElementPoolIndex;\n    if (poolIndex < pool.length) {\n      creditDisplayElement = pool[poolIndex];\n      creditDisplayElement.credit = credit;\n      creditDisplayElement.count = count;\n    } else {\n      creditDisplayElement = new CreditDisplayElement(credit, count);\n      pool.push(creditDisplayElement);\n    }\n    ++creditDisplay._creditDisplayElementPoolIndex;\n    credits.set(credit.id, creditDisplayElement);\n  } else if (creditDisplayElement.count < Number.MAX_VALUE) {\n    creditDisplayElement.count += count;\n  }\n}\n\n/**\n * Adds a {@link Credit} that will show on screen or in the lightbox until\n * the next frame. This is mostly for internal use. Use {@link CreditDisplay.addStaticCredit} to add a persistent credit to the screen.\n *\n * @see CreditDisplay.addStaticCredit\n *\n * @param {Credit} credit The credit to display in the next frame.\n */\nCreditDisplay.prototype.addCreditToNextFrame = function (credit) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"credit\", credit);\n  //>>includeEnd('debug');\n\n  if (credit.isIon()) {\n    // If this is the an ion logo credit from the ion server\n    // Just use the default credit (which is identical) to avoid blinking\n    if (!defined(this._defaultCredit)) {\n      this._defaultCredit = Credit.clone(getDefaultCredit());\n    }\n    this._currentCesiumCredit = this._defaultCredit;\n    return;\n  }\n  let credits;\n  if (!credit.showOnScreen) {\n    credits = this._currentFrameCredits.lightboxCredits;\n  } else {\n    credits = this._currentFrameCredits.screenCredits;\n  }\n  setCredit(this, credits, credit);\n};\n\n/**\n * Adds a {@link Credit} that will show on screen or in the lightbox until removed with {@link CreditDisplay.removeStaticCredit}.\n *\n * @param {Credit} credit The credit to added\n *\n * @example\n * // Add a credit with a tooltip, image and link to display onscreen\n * const credit = new Cesium.Credit(`<a href=\"https://cesium.com/\" target=\"_blank\"><img src=\"/images/cesium_logo.png\" title=\"Cesium\"/></a>`, true);\n * viewer.creditDisplay.addStaticCredit(credit);\n *\n * @example\n * // Add a credit with a plaintext link to display in the lightbox\n * const credit = new Cesium.Credit('<a href=\"https://cesium.com/\" target=\"_blank\">Cesium</a>');\n * viewer.creditDisplay.addStaticCredit(credit);\n */\nCreditDisplay.prototype.addStaticCredit = function (credit) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"credit\", credit);\n  //>>includeEnd('debug');\n\n  const staticCredits = this._staticCredits;\n  if (!contains(staticCredits, credit)) {\n    staticCredits.push(credit);\n  }\n};\n\n/**\n * Removes a static credit shown on screen or in the lightbox.\n *\n * @param {Credit} credit The credit to be removed.\n */\nCreditDisplay.prototype.removeStaticCredit = function (credit) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"credit\", credit);\n  //>>includeEnd('debug');\n\n  const staticCredits = this._staticCredits;\n  const index = staticCredits.indexOf(credit);\n  if (index !== -1) {\n    staticCredits.splice(index, 1);\n  }\n};\n\n/**\n * @private\n */\nCreditDisplay.prototype.showLightbox = function () {\n  this._lightbox.style.display = \"block\";\n  this._expanded = true;\n};\n\n/**\n * @private\n */\nCreditDisplay.prototype.hideLightbox = function () {\n  this._lightbox.style.display = \"none\";\n  this._expanded = false;\n};\n\n/**\n * Updates the credit display before a new frame is rendered.\n */\nCreditDisplay.prototype.update = function () {\n  if (this._expanded) {\n    styleLightboxContainer(this);\n  }\n};\n\n/**\n * Resets the credit display to a beginning of frame state, clearing out current credits.\n */\nCreditDisplay.prototype.beginFrame = function () {\n  const currentFrameCredits = this._currentFrameCredits;\n  this._creditDisplayElementPoolIndex = 0;\n  const screenCredits = currentFrameCredits.screenCredits;\n  const lightboxCredits = currentFrameCredits.lightboxCredits;\n  screenCredits.removeAll();\n  lightboxCredits.removeAll();\n  const staticCredits = this._staticCredits;\n  for (let i = 0; i < staticCredits.length; ++i) {\n    const staticCredit = staticCredits[i];\n    const creditCollection = staticCredit.showOnScreen ? screenCredits : lightboxCredits;\n    if (staticCredit.isIon() && Credit.equals(CreditDisplay.cesiumCredit, this._cesiumCredit)) {\n      // If this is an ion logo credit from the ion server,\n      // make sure to de-duplicate with the default ion credit\n      continue;\n    }\n    setCredit(this, creditCollection, staticCredit, Number.MAX_VALUE);\n  }\n  if (!Credit.equals(CreditDisplay.cesiumCredit, this._cesiumCredit)) {\n    this._cesiumCredit = Credit.clone(CreditDisplay.cesiumCredit);\n  }\n  this._currentCesiumCredit = this._cesiumCredit;\n};\n\n/**\n * Sets the credit display to the end of frame state, displaying credits from the last frame in the credit container.\n */\nCreditDisplay.prototype.endFrame = function () {\n  const screenCredits = this._currentFrameCredits.screenCredits.values;\n  displayCredits(this._screenContainer, screenCredits, this._delimiter, undefined);\n  const lightboxCredits = this._currentFrameCredits.lightboxCredits.values;\n  this._expandLink.style.display = lightboxCredits.length > 0 ? \"inline\" : \"none\";\n  displayCredits(this._creditList, lightboxCredits, undefined, \"li\");\n  swapCesiumCredit(this);\n};\n\n/**\n * Destroys the resources held by this object.  Destroying an object allows for deterministic\n * release of resources, instead of relying on the garbage collector to destroy this object.\n * <br /><br />\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n */\nCreditDisplay.prototype.destroy = function () {\n  this._lightbox.removeEventListener(\"click\", this._hideLightbox, false);\n  this.container.removeChild(this._cesiumCreditContainer);\n  this.container.removeChild(this._screenContainer);\n  this.container.removeChild(this._expandLink);\n  this.viewport.removeChild(this._lightbox);\n  return destroyObject(this);\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n *\n * @returns {boolean} <code>true</code> if this object was destroyed; otherwise, <code>false</code>.\n */\nCreditDisplay.prototype.isDestroyed = function () {\n  return false;\n};\nCreditDisplay._cesiumCredit = undefined;\nCreditDisplay._cesiumCreditInitialized = false;\nlet defaultCredit;\nfunction getDefaultCredit() {\n  if (!defined(defaultCredit)) {\n    let logo = buildModuleUrl(\"Assets/Images/ion-credit.png\");\n\n    // When hosting in a WebView, the base URL scheme is file:// or ms-appx-web://\n    // which is stripped out from the Credit's <img> tag; use the full path instead\n    if (logo.indexOf(\"http://\") !== 0 && logo.indexOf(\"https://\") !== 0 && logo.indexOf(\"data:\") !== 0) {\n      const logoUrl = new Uri(logo);\n      logo = logoUrl.path();\n    }\n    defaultCredit = new Credit(`<a href=\"https://cesium.com/\" target=\"_blank\"><img src=\"${logo}\" style=\"vertical-align: -7px\" title=\"Cesium ion\"/></a>`, true);\n  }\n  if (!CreditDisplay._cesiumCreditInitialized) {\n    CreditDisplay._cesiumCredit = defaultCredit;\n    CreditDisplay._cesiumCreditInitialized = true;\n  }\n  return defaultCredit;\n}\nObject.defineProperties(CreditDisplay, {\n  /**\n   * Gets or sets the Cesium logo credit.\n   * @memberof CreditDisplay\n   * @type {Credit}\n   */\n  cesiumCredit: {\n    get: function () {\n      getDefaultCredit();\n      return CreditDisplay._cesiumCredit;\n    },\n    set: function (value) {\n      CreditDisplay._cesiumCredit = value;\n      CreditDisplay._cesiumCreditInitialized = true;\n    }\n  }\n});\nCreditDisplay.CreditDisplayElement = CreditDisplayElement;\nexport default CreditDisplay;","map":{"version":3,"names":["AssociativeArray","buildModuleUrl","Check","Credit","defaultValue","defined","destroyObject","Uri","mobileWidth","lightboxHeight","textColor","highlightColor","CreditDisplayElement","credit","count","contains","credits","len","length","i","existingCredit","equals","swapCesiumCredit","creditDisplay","previousCredit","_previousCesiumCredit","currentCredit","_currentCesiumCredit","_cesiumCreditContainer","removeChild","element","appendChild","delimiterClassName","createDelimiterElement","delimiter","delimiterElement","document","createElement","textContent","className","createCreditElement","elementWrapperTagName","wrapper","_creditId","displayCredits","container","childNodes","domIndex","sort","credit1","credit2","creditIndex","delimiterDomIndex","existingDelimiter","replaceChild","existingElement","_id","styleLightboxContainer","that","lightboxCredits","_lightboxCredits","width","viewport","clientWidth","height","clientHeight","_lastViewportWidth","style","marginTop","Math","floor","_lastViewportHeight","appendCss","getShadowRoot","shadowRoot","getRootNode","root","ShadowRoot","undefined","shadowRootOrDocumentHead","head","styleElem","innerHTML","CreditDisplay","body","lightbox","hideLightbox","event","target","addEventListener","title","closeButton","onclick","bind","creditList","cesiumCreditContainer","display","screenContainer","expandLink","showLightbox","cesiumCredit","clone","_delimiter","_screenContainer","_creditList","_lightbox","_hideLightbox","_expandLink","_expanded","_staticCredits","_cesiumCredit","_creditDisplayElementPool","_creditDisplayElementIndex","_currentFrameCredits","screenCredits","_defaultCredit","setCredit","creditDisplayElement","get","id","pool","poolIndex","_creditDisplayElementPoolIndex","push","set","Number","MAX_VALUE","prototype","addCreditToNextFrame","isIon","getDefaultCredit","showOnScreen","addStaticCredit","staticCredits","removeStaticCredit","index","indexOf","splice","update","beginFrame","currentFrameCredits","removeAll","staticCredit","creditCollection","endFrame","values","destroy","removeEventListener","isDestroyed","_cesiumCreditInitialized","defaultCredit","logo","logoUrl","path","Object","defineProperties","value"],"sources":["/Users/mac/Desktop/IWL_Fresh_Start/Lab4gps-Love-In-Action/node_modules/@cesium/engine/Source/Scene/CreditDisplay.js"],"sourcesContent":["import AssociativeArray from \"../Core/AssociativeArray.js\";\nimport buildModuleUrl from \"../Core/buildModuleUrl.js\";\nimport Check from \"../Core/Check.js\";\nimport Credit from \"../Core/Credit.js\";\nimport defaultValue from \"../Core/defaultValue.js\";\nimport defined from \"../Core/defined.js\";\nimport destroyObject from \"../Core/destroyObject.js\";\nimport Uri from \"urijs\";\n\nconst mobileWidth = 576;\nconst lightboxHeight = 100;\nconst textColor = \"#ffffff\";\nconst highlightColor = \"#48b\";\n\n/**\n * Used to sort the credits by frequency of appearance\n * when they are later displayed.\n *\n * @alias CreditDisplay.CreditDisplayElement\n * @constructor\n *\n * @private\n */\nfunction CreditDisplayElement(credit, count) {\n  this.credit = credit;\n  this.count = defaultValue(count, 1);\n}\n\nfunction contains(credits, credit) {\n  const len = credits.length;\n  for (let i = 0; i < len; i++) {\n    const existingCredit = credits[i];\n    if (Credit.equals(existingCredit, credit)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction swapCesiumCredit(creditDisplay) {\n  // We don't want to clutter the screen with the Cesium logo and the Cesium ion\n  // logo at the same time. Since the ion logo is required, we just replace the\n  // Cesium logo or add the logo if the Cesium one was removed.\n  const previousCredit = creditDisplay._previousCesiumCredit;\n  const currentCredit = creditDisplay._currentCesiumCredit;\n  if (Credit.equals(currentCredit, previousCredit)) {\n    return;\n  }\n\n  if (defined(previousCredit)) {\n    creditDisplay._cesiumCreditContainer.removeChild(previousCredit.element);\n  }\n  if (defined(currentCredit)) {\n    creditDisplay._cesiumCreditContainer.appendChild(currentCredit.element);\n  }\n\n  creditDisplay._previousCesiumCredit = currentCredit;\n}\n\nconst delimiterClassName = \"cesium-credit-delimiter\";\n\nfunction createDelimiterElement(delimiter) {\n  const delimiterElement = document.createElement(\"span\");\n  delimiterElement.textContent = delimiter;\n  delimiterElement.className = delimiterClassName;\n  return delimiterElement;\n}\n\nfunction createCreditElement(element, elementWrapperTagName) {\n  // may need to wrap the credit in another element\n  if (defined(elementWrapperTagName)) {\n    const wrapper = document.createElement(elementWrapperTagName);\n    wrapper._creditId = element._creditId;\n    wrapper.appendChild(element);\n    element = wrapper;\n  }\n  return element;\n}\n\nfunction displayCredits(container, credits, delimiter, elementWrapperTagName) {\n  const childNodes = container.childNodes;\n  let domIndex = -1;\n\n  // Sort the credits such that more frequent credits appear first\n  credits.sort(function (credit1, credit2) {\n    return credit2.count - credit1.count;\n  });\n\n  for (let creditIndex = 0; creditIndex < credits.length; ++creditIndex) {\n    const credit = credits[creditIndex].credit;\n    if (defined(credit)) {\n      domIndex = creditIndex;\n      if (defined(delimiter)) {\n        // credits may be separated by delimiters\n        domIndex *= 2;\n        if (creditIndex > 0) {\n          const delimiterDomIndex = domIndex - 1;\n          if (childNodes.length <= delimiterDomIndex) {\n            container.appendChild(createDelimiterElement(delimiter));\n          } else {\n            const existingDelimiter = childNodes[delimiterDomIndex];\n            if (existingDelimiter.className !== delimiterClassName) {\n              container.replaceChild(\n                createDelimiterElement(delimiter),\n                existingDelimiter,\n              );\n            }\n          }\n        }\n      }\n\n      const element = credit.element;\n\n      // check to see if the correct credit is in the right place\n      if (childNodes.length <= domIndex) {\n        container.appendChild(\n          createCreditElement(element, elementWrapperTagName),\n        );\n      } else {\n        const existingElement = childNodes[domIndex];\n        if (existingElement._creditId !== credit._id) {\n          // not the right credit, swap it in\n          container.replaceChild(\n            createCreditElement(element, elementWrapperTagName),\n            existingElement,\n          );\n        }\n      }\n    }\n  }\n\n  // any remaining nodes in the container are unnecessary\n  ++domIndex;\n  while (domIndex < childNodes.length) {\n    container.removeChild(childNodes[domIndex]);\n  }\n}\n\nfunction styleLightboxContainer(that) {\n  const lightboxCredits = that._lightboxCredits;\n  const width = that.viewport.clientWidth;\n  const height = that.viewport.clientHeight;\n  if (width !== that._lastViewportWidth) {\n    if (width < mobileWidth) {\n      lightboxCredits.className =\n        \"cesium-credit-lightbox cesium-credit-lightbox-mobile\";\n      lightboxCredits.style.marginTop = \"0\";\n    } else {\n      lightboxCredits.className =\n        \"cesium-credit-lightbox cesium-credit-lightbox-expanded\";\n      lightboxCredits.style.marginTop = `${Math.floor(\n        (height - lightboxCredits.clientHeight) * 0.5,\n      )}px`;\n    }\n    that._lastViewportWidth = width;\n  }\n\n  if (width >= mobileWidth && height !== that._lastViewportHeight) {\n    lightboxCredits.style.marginTop = `${Math.floor(\n      (height - lightboxCredits.clientHeight) * 0.5,\n    )}px`;\n    that._lastViewportHeight = height;\n  }\n}\n\nfunction appendCss(container) {\n  const style = /*css*/ `\n.cesium-credit-lightbox-overlay {\n  display: none;\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(80, 80, 80, 0.8);\n}\n\n.cesium-credit-lightbox {\n  background-color: #303336;\n  color: ${textColor};\n  position: relative;\n  min-height: ${lightboxHeight}px;\n  margin: auto;\n}\n.cesium-credit-lightbox > ul > li a,\n.cesium-credit-lightbox > ul > li a:visited,\n.cesium-credit-wrapper a,\n.cesium-credit-wrapper a:visited {\n  color: ${textColor};\n}\n.cesium-credit-lightbox > ul > li a:hover {\n  color: ${highlightColor};\n}\n.cesium-credit-lightbox.cesium-credit-lightbox-expanded {\n  border: 1px solid #444;\n  border-radius: 5px;\n  max-width: 370px;\n}\n.cesium-credit-lightbox.cesium-credit-lightbox-mobile {\n  height: 100%;\n  width: 100%;\n}\n.cesium-credit-lightbox-title {\n  padding: 20px 20px 0 20px;\n}\n.cesium-credit-lightbox-close {\n  font-size: 18pt;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 6px;\n  color: ${textColor};\n}\n.cesium-credit-lightbox-close:hover {\n  color: ${highlightColor};\n}\n.cesium-credit-lightbox > ul {\n  margin: 0;\n  padding: 12px 20px 12px 40px;\n  font-size: 13px;\n}\n.cesium-credit-lightbox > ul > li {\n  padding-bottom: 6px;\n}\n.cesium-credit-lightbox > ul > li * {\n  padding: 0;\n  margin: 0;\n}\n\n.cesium-credit-expand-link {\n  padding-left: 5px;\n  cursor: pointer;\n  text-decoration: underline;\n  color: ${textColor};\n}\n.cesium-credit-expand-link:hover {\n  color: ${highlightColor};\n}\n\n.cesium-credit-text {\n  color: ${textColor};\n}\n\n.cesium-credit-delimiter {\n  padding: 0 5px;\n}\n\n.cesium-credit-textContainer *,\n.cesium-credit-logoContainer * {\n  display: inline;\n}\n\n.cesium-credit-textContainer a:hover {\n  color: ${highlightColor}\n}\n\n.cesium-credit-textContainer .cesium-credit-wrapper:first-of-type {\n  padding-left: 5px;\n}\n`;\n\n  function getShadowRoot(container) {\n    if (container.shadowRoot) {\n      return container.shadowRoot;\n    }\n    if (container.getRootNode) {\n      const root = container.getRootNode();\n      if (root instanceof ShadowRoot) {\n        return root;\n      }\n    }\n    return undefined;\n  }\n\n  const shadowRootOrDocumentHead = defaultValue(\n    getShadowRoot(container),\n    document.head,\n  );\n  const styleElem = document.createElement(\"style\");\n  styleElem.innerHTML = style;\n  shadowRootOrDocumentHead.appendChild(styleElem);\n}\n\n/**\n * The credit display is responsible for displaying credits on screen.\n *\n * @param {HTMLElement} container The HTML element where credits will be displayed\n * @param {string} [delimiter= 'â€¢'] The string to separate text credits\n * @param {HTMLElement} [viewport=document.body] The HTML element that will contain the credits popup\n *\n * @alias CreditDisplay\n * @constructor\n *\n * @example\n * // Add a credit with a tooltip, image and link to display onscreen\n * const credit = new Cesium.Credit(`<a href=\"https://cesium.com/\" target=\"_blank\"><img src=\"/images/cesium_logo.png\" title=\"Cesium\"/></a>`, true);\n * viewer.creditDisplay.addStaticCredit(credit);\n *\n * @example\n * // Add a credit with a plaintext link to display in the lightbox\n * const credit = new Cesium.Credit('<a href=\"https://cesium.com/\" target=\"_blank\">Cesium</a>');\n * viewer.creditDisplay.addStaticCredit(credit);\n */\nfunction CreditDisplay(container, delimiter, viewport) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"container\", container);\n  //>>includeEnd('debug');\n  const that = this;\n\n  viewport = defaultValue(viewport, document.body);\n\n  const lightbox = document.createElement(\"div\");\n  lightbox.className = \"cesium-credit-lightbox-overlay\";\n  viewport.appendChild(lightbox);\n\n  const lightboxCredits = document.createElement(\"div\");\n  lightboxCredits.className = \"cesium-credit-lightbox\";\n  lightbox.appendChild(lightboxCredits);\n\n  function hideLightbox(event) {\n    if (lightboxCredits.contains(event.target)) {\n      return;\n    }\n    that.hideLightbox();\n  }\n  lightbox.addEventListener(\"click\", hideLightbox, false);\n\n  const title = document.createElement(\"div\");\n  title.className = \"cesium-credit-lightbox-title\";\n  title.textContent = \"Data provided by:\";\n  lightboxCredits.appendChild(title);\n\n  const closeButton = document.createElement(\"a\");\n  closeButton.onclick = this.hideLightbox.bind(this);\n  closeButton.innerHTML = \"&times;\";\n  closeButton.className = \"cesium-credit-lightbox-close\";\n  lightboxCredits.appendChild(closeButton);\n\n  const creditList = document.createElement(\"ul\");\n  lightboxCredits.appendChild(creditList);\n\n  const cesiumCreditContainer = document.createElement(\"div\");\n  cesiumCreditContainer.className = \"cesium-credit-logoContainer\";\n  cesiumCreditContainer.style.display = \"inline\";\n  container.appendChild(cesiumCreditContainer);\n\n  const screenContainer = document.createElement(\"div\");\n  screenContainer.className = \"cesium-credit-textContainer\";\n  screenContainer.style.display = \"inline\";\n  container.appendChild(screenContainer);\n\n  const expandLink = document.createElement(\"a\");\n  expandLink.className = \"cesium-credit-expand-link\";\n  expandLink.onclick = this.showLightbox.bind(this);\n  expandLink.textContent = \"Data attribution\";\n  container.appendChild(expandLink);\n\n  appendCss(container);\n  const cesiumCredit = Credit.clone(CreditDisplay.cesiumCredit);\n\n  this._delimiter = defaultValue(delimiter, \"â€¢\");\n  this._screenContainer = screenContainer;\n  this._cesiumCreditContainer = cesiumCreditContainer;\n  this._lastViewportHeight = undefined;\n  this._lastViewportWidth = undefined;\n  this._lightboxCredits = lightboxCredits;\n  this._creditList = creditList;\n  this._lightbox = lightbox;\n  this._hideLightbox = hideLightbox;\n  this._expandLink = expandLink;\n  this._expanded = false;\n  this._staticCredits = [];\n  this._cesiumCredit = cesiumCredit;\n  this._previousCesiumCredit = undefined;\n  this._currentCesiumCredit = cesiumCredit;\n  this._creditDisplayElementPool = [];\n  this._creditDisplayElementIndex = 0;\n\n  this._currentFrameCredits = {\n    screenCredits: new AssociativeArray(),\n    lightboxCredits: new AssociativeArray(),\n  };\n\n  this._defaultCredit = undefined;\n\n  this.viewport = viewport;\n\n  /**\n   * The HTML element where credits will be displayed.\n   * @type {HTMLElement}\n   */\n  this.container = container;\n}\n\nfunction setCredit(creditDisplay, credits, credit, count) {\n  count = defaultValue(count, 1);\n  let creditDisplayElement = credits.get(credit.id);\n  if (!defined(creditDisplayElement)) {\n    const pool = creditDisplay._creditDisplayElementPool;\n    const poolIndex = creditDisplay._creditDisplayElementPoolIndex;\n    if (poolIndex < pool.length) {\n      creditDisplayElement = pool[poolIndex];\n      creditDisplayElement.credit = credit;\n      creditDisplayElement.count = count;\n    } else {\n      creditDisplayElement = new CreditDisplayElement(credit, count);\n      pool.push(creditDisplayElement);\n    }\n    ++creditDisplay._creditDisplayElementPoolIndex;\n    credits.set(credit.id, creditDisplayElement);\n  } else if (creditDisplayElement.count < Number.MAX_VALUE) {\n    creditDisplayElement.count += count;\n  }\n}\n\n/**\n * Adds a {@link Credit} that will show on screen or in the lightbox until\n * the next frame. This is mostly for internal use. Use {@link CreditDisplay.addStaticCredit} to add a persistent credit to the screen.\n *\n * @see CreditDisplay.addStaticCredit\n *\n * @param {Credit} credit The credit to display in the next frame.\n */\nCreditDisplay.prototype.addCreditToNextFrame = function (credit) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"credit\", credit);\n  //>>includeEnd('debug');\n\n  if (credit.isIon()) {\n    // If this is the an ion logo credit from the ion server\n    // Just use the default credit (which is identical) to avoid blinking\n    if (!defined(this._defaultCredit)) {\n      this._defaultCredit = Credit.clone(getDefaultCredit());\n    }\n    this._currentCesiumCredit = this._defaultCredit;\n    return;\n  }\n\n  let credits;\n  if (!credit.showOnScreen) {\n    credits = this._currentFrameCredits.lightboxCredits;\n  } else {\n    credits = this._currentFrameCredits.screenCredits;\n  }\n\n  setCredit(this, credits, credit);\n};\n\n/**\n * Adds a {@link Credit} that will show on screen or in the lightbox until removed with {@link CreditDisplay.removeStaticCredit}.\n *\n * @param {Credit} credit The credit to added\n *\n * @example\n * // Add a credit with a tooltip, image and link to display onscreen\n * const credit = new Cesium.Credit(`<a href=\"https://cesium.com/\" target=\"_blank\"><img src=\"/images/cesium_logo.png\" title=\"Cesium\"/></a>`, true);\n * viewer.creditDisplay.addStaticCredit(credit);\n *\n * @example\n * // Add a credit with a plaintext link to display in the lightbox\n * const credit = new Cesium.Credit('<a href=\"https://cesium.com/\" target=\"_blank\">Cesium</a>');\n * viewer.creditDisplay.addStaticCredit(credit);\n */\nCreditDisplay.prototype.addStaticCredit = function (credit) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"credit\", credit);\n  //>>includeEnd('debug');\n\n  const staticCredits = this._staticCredits;\n  if (!contains(staticCredits, credit)) {\n    staticCredits.push(credit);\n  }\n};\n\n/**\n * Removes a static credit shown on screen or in the lightbox.\n *\n * @param {Credit} credit The credit to be removed.\n */\nCreditDisplay.prototype.removeStaticCredit = function (credit) {\n  //>>includeStart('debug', pragmas.debug);\n  Check.defined(\"credit\", credit);\n  //>>includeEnd('debug');\n\n  const staticCredits = this._staticCredits;\n  const index = staticCredits.indexOf(credit);\n  if (index !== -1) {\n    staticCredits.splice(index, 1);\n  }\n};\n\n/**\n * @private\n */\nCreditDisplay.prototype.showLightbox = function () {\n  this._lightbox.style.display = \"block\";\n  this._expanded = true;\n};\n\n/**\n * @private\n */\nCreditDisplay.prototype.hideLightbox = function () {\n  this._lightbox.style.display = \"none\";\n  this._expanded = false;\n};\n\n/**\n * Updates the credit display before a new frame is rendered.\n */\nCreditDisplay.prototype.update = function () {\n  if (this._expanded) {\n    styleLightboxContainer(this);\n  }\n};\n\n/**\n * Resets the credit display to a beginning of frame state, clearing out current credits.\n */\nCreditDisplay.prototype.beginFrame = function () {\n  const currentFrameCredits = this._currentFrameCredits;\n  this._creditDisplayElementPoolIndex = 0;\n\n  const screenCredits = currentFrameCredits.screenCredits;\n  const lightboxCredits = currentFrameCredits.lightboxCredits;\n\n  screenCredits.removeAll();\n  lightboxCredits.removeAll();\n\n  const staticCredits = this._staticCredits;\n  for (let i = 0; i < staticCredits.length; ++i) {\n    const staticCredit = staticCredits[i];\n    const creditCollection = staticCredit.showOnScreen\n      ? screenCredits\n      : lightboxCredits;\n\n    if (\n      staticCredit.isIon() &&\n      Credit.equals(CreditDisplay.cesiumCredit, this._cesiumCredit)\n    ) {\n      // If this is an ion logo credit from the ion server,\n      // make sure to de-duplicate with the default ion credit\n      continue;\n    }\n\n    setCredit(this, creditCollection, staticCredit, Number.MAX_VALUE);\n  }\n\n  if (!Credit.equals(CreditDisplay.cesiumCredit, this._cesiumCredit)) {\n    this._cesiumCredit = Credit.clone(CreditDisplay.cesiumCredit);\n  }\n  this._currentCesiumCredit = this._cesiumCredit;\n};\n\n/**\n * Sets the credit display to the end of frame state, displaying credits from the last frame in the credit container.\n */\nCreditDisplay.prototype.endFrame = function () {\n  const screenCredits = this._currentFrameCredits.screenCredits.values;\n  displayCredits(\n    this._screenContainer,\n    screenCredits,\n    this._delimiter,\n    undefined,\n  );\n\n  const lightboxCredits = this._currentFrameCredits.lightboxCredits.values;\n  this._expandLink.style.display =\n    lightboxCredits.length > 0 ? \"inline\" : \"none\";\n  displayCredits(this._creditList, lightboxCredits, undefined, \"li\");\n\n  swapCesiumCredit(this);\n};\n\n/**\n * Destroys the resources held by this object.  Destroying an object allows for deterministic\n * release of resources, instead of relying on the garbage collector to destroy this object.\n * <br /><br />\n * Once an object is destroyed, it should not be used; calling any function other than\n * <code>isDestroyed</code> will result in a {@link DeveloperError} exception.  Therefore,\n * assign the return value (<code>undefined</code>) to the object as done in the example.\n *\n * @exception {DeveloperError} This object was destroyed, i.e., destroy() was called.\n */\nCreditDisplay.prototype.destroy = function () {\n  this._lightbox.removeEventListener(\"click\", this._hideLightbox, false);\n\n  this.container.removeChild(this._cesiumCreditContainer);\n  this.container.removeChild(this._screenContainer);\n  this.container.removeChild(this._expandLink);\n  this.viewport.removeChild(this._lightbox);\n\n  return destroyObject(this);\n};\n\n/**\n * Returns true if this object was destroyed; otherwise, false.\n * <br /><br />\n *\n * @returns {boolean} <code>true</code> if this object was destroyed; otherwise, <code>false</code>.\n */\nCreditDisplay.prototype.isDestroyed = function () {\n  return false;\n};\n\nCreditDisplay._cesiumCredit = undefined;\nCreditDisplay._cesiumCreditInitialized = false;\n\nlet defaultCredit;\nfunction getDefaultCredit() {\n  if (!defined(defaultCredit)) {\n    let logo = buildModuleUrl(\"Assets/Images/ion-credit.png\");\n\n    // When hosting in a WebView, the base URL scheme is file:// or ms-appx-web://\n    // which is stripped out from the Credit's <img> tag; use the full path instead\n    if (\n      logo.indexOf(\"http://\") !== 0 &&\n      logo.indexOf(\"https://\") !== 0 &&\n      logo.indexOf(\"data:\") !== 0\n    ) {\n      const logoUrl = new Uri(logo);\n      logo = logoUrl.path();\n    }\n\n    defaultCredit = new Credit(\n      `<a href=\"https://cesium.com/\" target=\"_blank\"><img src=\"${logo}\" style=\"vertical-align: -7px\" title=\"Cesium ion\"/></a>`,\n      true,\n    );\n  }\n\n  if (!CreditDisplay._cesiumCreditInitialized) {\n    CreditDisplay._cesiumCredit = defaultCredit;\n    CreditDisplay._cesiumCreditInitialized = true;\n  }\n  return defaultCredit;\n}\n\nObject.defineProperties(CreditDisplay, {\n  /**\n   * Gets or sets the Cesium logo credit.\n   * @memberof CreditDisplay\n   * @type {Credit}\n   */\n  cesiumCredit: {\n    get: function () {\n      getDefaultCredit();\n      return CreditDisplay._cesiumCredit;\n    },\n    set: function (value) {\n      CreditDisplay._cesiumCredit = value;\n      CreditDisplay._cesiumCreditInitialized = true;\n    },\n  },\n});\n\nCreditDisplay.CreditDisplayElement = CreditDisplayElement;\nexport default CreditDisplay;\n"],"mappings":"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G;IACvC,CAAC,MAAM;MACLT,eAAe,CAACpB,SAAS,GACvB,wDAAwD;MAC1DoB,eAAe,CAACQ,KAAK,CAACC,SAAS,GAAG,GAAGC,IAAI,CAACC,KAAK,CAC7C,CAACN,MAAM,GAAGL,eAAe,CAACM,YAAY,IAAI,GAC5C,CAAC,IAAI;IACP;IACAP,IAAI,CAACQ,kBAAkB,GAAGL,KAAK;EACjC;EAEA,IAAIA,KAAK,IAAIrD,WAAW,IAAIwD,MAAM,KAAKN,IAAI,CAACa,mBAAmB,EAAE;IAC/DZ,eAAe,CAACQ,KAAK,CAACC,SAAS,GAAG,GAAGC,IAAI,CAACC,KAAK,CAC7C,CAACN,MAAM,GAAGL,eAAe,CAACM,YAAY,IAAI,GAC5C,CAAC,IAAI;IACLP,IAAI,CAACa,mBAAmB,GAAGP,MAAM;EACnC;AACF;AAEA,SAASQ,SAASA,CAAC3B,SAAS,EAAE;EAC5B,MAAMsB,KAAK,GAAG,OAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAWzD,SAAS;AACpB;AACA,gBAAgBD,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,WAAWC,SAAS;AACpB;AACA;AACA,WAAWC,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAWD,SAAS;AACpB;AACA;AACA,WAAWC,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAWD,SAAS;AACpB;AACA;AACA,WAAWC,cAAc;AACzB;AACA;AACA;AACA,WAAWD,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAWC,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA,CAAC;EAEC,SAAS8D,aAAaA,CAAC5B,SAAS,EAAE;IAChC,IAAIA,SAAS,CAAC6B,UAAU,EAAE;MACxB,OAAO7B,SAAS,CAAC6B,UAAU;IAC7B;IACA,IAAI7B,SAAS,CAAC8B,WAAW,EAAE;MACzB,MAAMC,IAAI,GAAG/B,SAAS,CAAC8B,WAAW,CAAC,CAAC;MACpC,IAAIC,IAAI,YAAYC,UAAU,EAAE;QAC9B,OAAOD,IAAI;MACb;IACF;IACA,OAAOE,SAAS;EAClB;EAEA,MAAMC,wBAAwB,GAAG3E,YAAY,CAC3CqE,aAAa,CAAC5B,SAAS,CAAC,EACxBT,QAAQ,CAAC4C,IACX,CAAC;EACD,MAAMC,SAAS,GAAG7C,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;EACjD4C,SAAS,CAACC,SAAS,GAAGf,KAAK;EAC3BY,wBAAwB,CAAChD,WAAW,CAACkD,SAAS,CAAC;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASE,aAAaA,CAACtC,SAAS,EAAEX,SAAS,EAAE4B,QAAQ,EAAE;EACrD;EACA5D,KAAK,CAACG,OAAO,CAAC,WAAW,EAAEwC,SAAS,CAAC;EACrC;EACA,MAAMa,IAAI,GAAG,IAAI;EAEjBI,QAAQ,GAAG1D,YAAY,CAAC0D,QAAQ,EAAE1B,QAAQ,CAACgD,IAAI,CAAC;EAEhD,MAAMC,QAAQ,GAAGjD,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EAC9CgD,QAAQ,CAAC9C,SAAS,GAAG,gCAAgC;EACrDuB,QAAQ,CAAC/B,WAAW,CAACsD,QAAQ,CAAC;EAE9B,MAAM1B,eAAe,GAAGvB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EACrDsB,eAAe,CAACpB,SAAS,GAAG,wBAAwB;EACpD8C,QAAQ,CAACtD,WAAW,CAAC4B,eAAe,CAAC;EAErC,SAAS2B,YAAYA,CAACC,KAAK,EAAE;IAC3B,IAAI5B,eAAe,CAAC5C,QAAQ,CAACwE,KAAK,CAACC,MAAM,CAAC,EAAE;MAC1C;IACF;IACA9B,IAAI,CAAC4B,YAAY,CAAC,CAAC;EACrB;EACAD,QAAQ,CAACI,gBAAgB,CAAC,OAAO,EAAEH,YAAY,EAAE,KAAK,CAAC;EAEvD,MAAMI,KAAK,GAAGtD,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EAC3CqD,KAAK,CAACnD,SAAS,GAAG,8BAA8B;EAChDmD,KAAK,CAACpD,WAAW,GAAG,mBAAmB;EACvCqB,eAAe,CAAC5B,WAAW,CAAC2D,KAAK,CAAC;EAElC,MAAMC,WAAW,GAAGvD,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;EAC/CsD,WAAW,CAACC,OAAO,GAAG,IAAI,CAACN,YAAY,CAACO,IAAI,CAAC,IAAI,CAAC;EAClDF,WAAW,CAACT,SAAS,GAAG,SAAS;EACjCS,WAAW,CAACpD,SAAS,GAAG,8BAA8B;EACtDoB,eAAe,CAAC5B,WAAW,CAAC4D,WAAW,CAAC;EAExC,MAAMG,UAAU,GAAG1D,QAAQ,CAACC,aAAa,CAAC,IAAI,CAAC;EAC/CsB,eAAe,CAAC5B,WAAW,CAAC+D,UAAU,CAAC;EAEvC,MAAMC,qBAAqB,GAAG3D,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EAC3D0D,qBAAqB,CAACxD,SAAS,GAAG,6BAA6B;EAC/DwD,qBAAqB,CAAC5B,KAAK,CAAC6B,OAAO,GAAG,QAAQ;EAC9CnD,SAAS,CAACd,WAAW,CAACgE,qBAAqB,CAAC;EAE5C,MAAME,eAAe,GAAG7D,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EACrD4D,eAAe,CAAC1D,SAAS,GAAG,6BAA6B;EACzD0D,eAAe,CAAC9B,KAAK,CAAC6B,OAAO,GAAG,QAAQ;EACxCnD,SAAS,CAACd,WAAW,CAACkE,eAAe,CAAC;EAEtC,MAAMC,UAAU,GAAG9D,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;EAC9C6D,UAAU,CAAC3D,SAAS,GAAG,2BAA2B;EAClD2D,UAAU,CAACN,OAAO,GAAG,IAAI,CAACO,YAAY,CAACN,IAAI,CAAC,IAAI,CAAC;EACjDK,UAAU,CAAC5D,WAAW,GAAG,kBAAkB;EAC3CO,SAAS,CAACd,WAAW,CAACmE,UAAU,CAAC;EAEjC1B,SAAS,CAAC3B,SAAS,CAAC;EACpB,MAAMuD,YAAY,GAAGjG,MAAM,CAACkG,KAAK,CAAClB,aAAa,CAACiB,YAAY,CAAC;EAE7D,IAAI,CAACE,UAAU,GAAGlG,YAAY,CAAC8B,SAAS,EAAE,GAAG,CAAC;EAC9C,IAAI,CAACqE,gBAAgB,GAAGN,eAAe;EACvC,IAAI,CAACrE,sBAAsB,GAAGmE,qBAAqB;EACnD,IAAI,CAACxB,mBAAmB,GAAGO,SAAS;EACpC,IAAI,CAACZ,kBAAkB,GAAGY,SAAS;EACnC,IAAI,CAAClB,gBAAgB,GAAGD,eAAe;EACvC,IAAI,CAAC6C,WAAW,GAAGV,UAAU;EAC7B,IAAI,CAACW,SAAS,GAAGpB,QAAQ;EACzB,IAAI,CAACqB,aAAa,GAAGpB,YAAY;EACjC,IAAI,CAACqB,WAAW,GAAGT,UAAU;EAC7B,IAAI,CAACU,SAAS,GAAG,KAAK;EACtB,IAAI,CAACC,cAAc,GAAG,EAAE;EACxB,IAAI,CAACC,aAAa,GAAGV,YAAY;EACjC,IAAI,CAAC3E,qBAAqB,GAAGqD,SAAS;EACtC,IAAI,CAACnD,oBAAoB,GAAGyE,YAAY;EACxC,IAAI,CAACW,yBAAyB,GAAG,EAAE;EACnC,IAAI,CAACC,0BAA0B,GAAG,CAAC;EAEnC,IAAI,CAACC,oBAAoB,GAAG;IAC1BC,aAAa,EAAE,IAAIlH,gBAAgB,CAAC,CAAC;IACrC2D,eAAe,EAAE,IAAI3D,gBAAgB,CAAC;EACxC,CAAC;EAED,IAAI,CAACmH,cAAc,GAAGrC,SAAS;EAE/B,IAAI,CAAChB,QAAQ,GAAGA,QAAQ;;EAExB;AACF;AACA;AACA;EACE,IAAI,CAACjB,SAAS,GAAGA,SAAS;AAC5B;AAEA,SAASuE,SAASA,CAAC7F,aAAa,EAAEP,OAAO,EAAEH,MAAM,EAAEC,KAAK,EAAE;EACxDA,KAAK,GAAGV,YAAY,CAACU,KAAK,EAAE,CAAC,CAAC;EAC9B,IAAIuG,oBAAoB,GAAGrG,OAAO,CAACsG,GAAG,CAACzG,MAAM,CAAC0G,EAAE,CAAC;EACjD,IAAI,CAAClH,OAAO,CAACgH,oBAAoB,CAAC,EAAE;IAClC,MAAMG,IAAI,GAAGjG,aAAa,CAACwF,yBAAyB;IACpD,MAAMU,SAAS,GAAGlG,aAAa,CAACmG,8BAA8B;IAC9D,IAAID,SAAS,GAAGD,IAAI,CAACtG,MAAM,EAAE;MAC3BmG,oBAAoB,GAAGG,IAAI,CAACC,SAAS,CAAC;MACtCJ,oBAAoB,CAACxG,MAAM,GAAGA,MAAM;MACpCwG,oBAAoB,CAACvG,KAAK,GAAGA,KAAK;IACpC,CAAC,MAAM;MACLuG,oBAAoB,GAAG,IAAIzG,oBAAoB,CAACC,MAAM,EAAEC,KAAK,CAAC;MAC9D0G,IAAI,CAACG,IAAI,CAACN,oBAAoB,CAAC;IACjC;IACA,EAAE9F,aAAa,CAACmG,8BAA8B;IAC9C1G,OAAO,CAAC4G,GAAG,CAAC/G,MAAM,CAAC0G,EAAE,EAAEF,oBAAoB,CAAC;EAC9C,CAAC,MAAM,IAAIA,oBAAoB,CAACvG,KAAK,GAAG+G,MAAM,CAACC,SAAS,EAAE;IACxDT,oBAAoB,CAACvG,KAAK,IAAIA,KAAK;EACrC;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAqE,aAAa,CAAC4C,SAAS,CAACC,oBAAoB,GAAG,UAAUnH,MAAM,EAAE;EAC/D;EACAX,KAAK,CAACG,OAAO,CAAC,QAAQ,EAAEQ,MAAM,CAAC;EAC/B;;EAEA,IAAIA,MAAM,CAACoH,KAAK,CAAC,CAAC,EAAE;IAClB;IACA;IACA,IAAI,CAAC5H,OAAO,CAAC,IAAI,CAAC8G,cAAc,CAAC,EAAE;MACjC,IAAI,CAACA,cAAc,GAAGhH,MAAM,CAACkG,KAAK,CAAC6B,gBAAgB,CAAC,CAAC,CAAC;IACxD;IACA,IAAI,CAACvG,oBAAoB,GAAG,IAAI,CAACwF,cAAc;IAC/C;EACF;EAEA,IAAInG,OAAO;EACX,IAAI,CAACH,MAAM,CAACsH,YAAY,EAAE;IACxBnH,OAAO,GAAG,IAAI,CAACiG,oBAAoB,CAACtD,eAAe;EACrD,CAAC,MAAM;IACL3C,OAAO,GAAG,IAAI,CAACiG,oBAAoB,CAACC,aAAa;EACnD;EAEAE,SAAS,CAAC,IAAI,EAAEpG,OAAO,EAAEH,MAAM,CAAC;AAClC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAsE,aAAa,CAAC4C,SAAS,CAACK,eAAe,GAAG,UAAUvH,MAAM,EAAE;EAC1D;EACAX,KAAK,CAACG,OAAO,CAAC,QAAQ,EAAEQ,MAAM,CAAC;EAC/B;;EAEA,MAAMwH,aAAa,GAAG,IAAI,CAACxB,cAAc;EACzC,IAAI,CAAC9F,QAAQ,CAACsH,aAAa,EAAExH,MAAM,CAAC,EAAE;IACpCwH,aAAa,CAACV,IAAI,CAAC9G,MAAM,CAAC;EAC5B;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACAsE,aAAa,CAAC4C,SAAS,CAACO,kBAAkB,GAAG,UAAUzH,MAAM,EAAE;EAC7D;EACAX,KAAK,CAACG,OAAO,CAAC,QAAQ,EAAEQ,MAAM,CAAC;EAC/B;;EAEA,MAAMwH,aAAa,GAAG,IAAI,CAACxB,cAAc;EACzC,MAAM0B,KAAK,GAAGF,aAAa,CAACG,OAAO,CAAC3H,MAAM,CAAC;EAC3C,IAAI0H,KAAK,KAAK,CAAC,CAAC,EAAE;IAChBF,aAAa,CAACI,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;EAChC;AACF,CAAC;;AAED;AACA;AACA;AACApD,aAAa,CAAC4C,SAAS,CAAC5B,YAAY,GAAG,YAAY;EACjD,IAAI,CAACM,SAAS,CAACtC,KAAK,CAAC6B,OAAO,GAAG,OAAO;EACtC,IAAI,CAACY,SAAS,GAAG,IAAI;AACvB,CAAC;;AAED;AACA;AACA;AACAzB,aAAa,CAAC4C,SAAS,CAACzC,YAAY,GAAG,YAAY;EACjD,IAAI,CAACmB,SAAS,CAACtC,KAAK,CAAC6B,OAAO,GAAG,MAAM;EACrC,IAAI,CAACY,SAAS,GAAG,KAAK;AACxB,CAAC;;AAED;AACA;AACA;AACAzB,aAAa,CAAC4C,SAAS,CAACW,MAAM,GAAG,YAAY;EAC3C,IAAI,IAAI,CAAC9B,SAAS,EAAE;IAClBnD,sBAAsB,CAAC,IAAI,CAAC;EAC9B;AACF,CAAC;;AAED;AACA;AACA;AACA0B,aAAa,CAAC4C,SAAS,CAACY,UAAU,GAAG,YAAY;EAC/C,MAAMC,mBAAmB,GAAG,IAAI,CAAC3B,oBAAoB;EACrD,IAAI,CAACS,8BAA8B,GAAG,CAAC;EAEvC,MAAMR,aAAa,GAAG0B,mBAAmB,CAAC1B,aAAa;EACvD,MAAMvD,eAAe,GAAGiF,mBAAmB,CAACjF,eAAe;EAE3DuD,aAAa,CAAC2B,SAAS,CAAC,CAAC;EACzBlF,eAAe,CAACkF,SAAS,CAAC,CAAC;EAE3B,MAAMR,aAAa,GAAG,IAAI,CAACxB,cAAc;EACzC,KAAK,IAAI1F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkH,aAAa,CAACnH,MAAM,EAAE,EAAEC,CAAC,EAAE;IAC7C,MAAM2H,YAAY,GAAGT,aAAa,CAAClH,CAAC,CAAC;IACrC,MAAM4H,gBAAgB,GAAGD,YAAY,CAACX,YAAY,GAC9CjB,aAAa,GACbvD,eAAe;IAEnB,IACEmF,YAAY,CAACb,KAAK,CAAC,CAAC,IACpB9H,MAAM,CAACkB,MAAM,CAAC8D,aAAa,CAACiB,YAAY,EAAE,IAAI,CAACU,aAAa,CAAC,EAC7D;MACA;MACA;MACA;IACF;IAEAM,SAAS,CAAC,IAAI,EAAE2B,gBAAgB,EAAED,YAAY,EAAEjB,MAAM,CAACC,SAAS,CAAC;EACnE;EAEA,IAAI,CAAC3H,MAAM,CAACkB,MAAM,CAAC8D,aAAa,CAACiB,YAAY,EAAE,IAAI,CAACU,aAAa,CAAC,EAAE;IAClE,IAAI,CAACA,aAAa,GAAG3G,MAAM,CAACkG,KAAK,CAAClB,aAAa,CAACiB,YAAY,CAAC;EAC/D;EACA,IAAI,CAACzE,oBAAoB,GAAG,IAAI,CAACmF,aAAa;AAChD,CAAC;;AAED;AACA;AACA;AACA3B,aAAa,CAAC4C,SAAS,CAACiB,QAAQ,GAAG,YAAY;EAC7C,MAAM9B,aAAa,GAAG,IAAI,CAACD,oBAAoB,CAACC,aAAa,CAAC+B,MAAM;EACpErG,cAAc,CACZ,IAAI,CAAC2D,gBAAgB,EACrBW,aAAa,EACb,IAAI,CAACZ,UAAU,EACfxB,SACF,CAAC;EAED,MAAMnB,eAAe,GAAG,IAAI,CAACsD,oBAAoB,CAACtD,eAAe,CAACsF,MAAM;EACxE,IAAI,CAACtC,WAAW,CAACxC,KAAK,CAAC6B,OAAO,GAC5BrC,eAAe,CAACzC,MAAM,GAAG,CAAC,GAAG,QAAQ,GAAG,MAAM;EAChD0B,cAAc,CAAC,IAAI,CAAC4D,WAAW,EAAE7C,eAAe,EAAEmB,SAAS,EAAE,IAAI,CAAC;EAElExD,gBAAgB,CAAC,IAAI,CAAC;AACxB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA6D,aAAa,CAAC4C,SAAS,CAACmB,OAAO,GAAG,YAAY;EAC5C,IAAI,CAACzC,SAAS,CAAC0C,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAACzC,aAAa,EAAE,KAAK,CAAC;EAEtE,IAAI,CAAC7D,SAAS,CAAChB,WAAW,CAAC,IAAI,CAACD,sBAAsB,CAAC;EACvD,IAAI,CAACiB,SAAS,CAAChB,WAAW,CAAC,IAAI,CAAC0E,gBAAgB,CAAC;EACjD,IAAI,CAAC1D,SAAS,CAAChB,WAAW,CAAC,IAAI,CAAC8E,WAAW,CAAC;EAC5C,IAAI,CAAC7C,QAAQ,CAACjC,WAAW,CAAC,IAAI,CAAC4E,SAAS,CAAC;EAEzC,OAAOnG,aAAa,CAAC,IAAI,CAAC;AAC5B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA6E,aAAa,CAAC4C,SAAS,CAACqB,WAAW,GAAG,YAAY;EAChD,OAAO,KAAK;AACd,CAAC;AAEDjE,aAAa,CAAC2B,aAAa,GAAGhC,SAAS;AACvCK,aAAa,CAACkE,wBAAwB,GAAG,KAAK;AAE9C,IAAIC,aAAa;AACjB,SAASpB,gBAAgBA,CAAA,EAAG;EAC1B,IAAI,CAAC7H,OAAO,CAACiJ,aAAa,CAAC,EAAE;IAC3B,IAAIC,IAAI,GAAGtJ,cAAc,CAAC,8BAA8B,CAAC;;IAEzD;IACA;IACA,IACEsJ,IAAI,CAACf,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,IAC7Be,IAAI,CAACf,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,IAC9Be,IAAI,CAACf,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,EAC3B;MACA,MAAMgB,OAAO,GAAG,IAAIjJ,GAAG,CAACgJ,IAAI,CAAC;MAC7BA,IAAI,GAAGC,OAAO,CAACC,IAAI,CAAC,CAAC;IACvB;IAEAH,aAAa,GAAG,IAAInJ,MAAM,CACxB,2DAA2DoJ,IAAI,yDAAyD,EACxH,IACF,CAAC;EACH;EAEA,IAAI,CAACpE,aAAa,CAACkE,wBAAwB,EAAE;IAC3ClE,aAAa,CAAC2B,aAAa,GAAGwC,aAAa;IAC3CnE,aAAa,CAACkE,wBAAwB,GAAG,IAAI;EAC/C;EACA,OAAOC,aAAa;AACtB;AAEAI,MAAM,CAACC,gBAAgB,CAACxE,aAAa,EAAE;EACrC;AACF;AACA;AACA;AACA;EACEiB,YAAY,EAAE;IACZkB,GAAG,EAAE,SAAAA,CAAA,EAAY;MACfY,gBAAgB,CAAC,CAAC;MAClB,OAAO/C,aAAa,CAAC2B,aAAa;IACpC,CAAC;IACDc,GAAG,EAAE,SAAAA,CAAUgC,KAAK,EAAE;MACpBzE,aAAa,CAAC2B,aAAa,GAAG8C,KAAK;MACnCzE,aAAa,CAACkE,wBAAwB,GAAG,IAAI;IAC/C;EACF;AACF,CAAC,CAAC;AAEFlE,aAAa,CAACvE,oBAAoB,GAAGA,oBAAoB;AACzD,eAAeuE,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}