{"ast":null,"code":"import Check from \"./Check.js\";\nimport defaultValue from \"./defaultValue.js\";\nimport defined from \"./defined.js\";\nimport Resource from \"./Resource.js\";\n\n/**\n * @private\n */\nfunction loadImageFromTypedArray(options) {\n  const uint8Array = options.uint8Array;\n  const format = options.format;\n  const request = options.request;\n  const flipY = defaultValue(options.flipY, false);\n  const skipColorSpaceConversion = defaultValue(options.skipColorSpaceConversion, false);\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.object(\"uint8Array\", uint8Array);\n  Check.typeOf.string(\"format\", format);\n  //>>includeEnd('debug');\n\n  const blob = new Blob([uint8Array], {\n    type: format\n  });\n  let blobUrl;\n  return Resource.supportsImageBitmapOptions().then(function (result) {\n    if (result) {\n      return Promise.resolve(Resource.createImageBitmapFromBlob(blob, {\n        flipY: flipY,\n        premultiplyAlpha: false,\n        skipColorSpaceConversion: skipColorSpaceConversion\n      }));\n    }\n    blobUrl = window.URL.createObjectURL(blob);\n    const resource = new Resource({\n      url: blobUrl,\n      request: request\n    });\n    return resource.fetchImage({\n      flipY: flipY,\n      skipColorSpaceConversion: skipColorSpaceConversion\n    });\n  }).then(function (result) {\n    if (defined(blobUrl)) {\n      window.URL.revokeObjectURL(blobUrl);\n    }\n    return result;\n  }).catch(function (error) {\n    if (defined(blobUrl)) {\n      window.URL.revokeObjectURL(blobUrl);\n    }\n    return Promise.reject(error);\n  });\n}\nexport default loadImageFromTypedArray;","map":{"version":3,"names":["Check","defaultValue","defined","Resource","loadImageFromTypedArray","options","uint8Array","format","request","flipY","skipColorSpaceConversion","typeOf","object","string","blob","Blob","type","blobUrl","supportsImageBitmapOptions","then","result","Promise","resolve","createImageBitmapFromBlob","premultiplyAlpha","window","URL","createObjectURL","resource","url","fetchImage","revokeObjectURL","catch","error","reject"],"sources":["/Users/mac/Desktop/IWL_Fresh_Start/Lab4gps-Love-In-Action/node_modules/@cesium/engine/Source/Core/loadImageFromTypedArray.js"],"sourcesContent":["import Check from \"./Check.js\";\nimport defaultValue from \"./defaultValue.js\";\nimport defined from \"./defined.js\";\nimport Resource from \"./Resource.js\";\n\n/**\n * @private\n */\nfunction loadImageFromTypedArray(options) {\n  const uint8Array = options.uint8Array;\n  const format = options.format;\n  const request = options.request;\n  const flipY = defaultValue(options.flipY, false);\n  const skipColorSpaceConversion = defaultValue(\n    options.skipColorSpaceConversion,\n    false,\n  );\n  //>>includeStart('debug', pragmas.debug);\n  Check.typeOf.object(\"uint8Array\", uint8Array);\n  Check.typeOf.string(\"format\", format);\n  //>>includeEnd('debug');\n\n  const blob = new Blob([uint8Array], {\n    type: format,\n  });\n\n  let blobUrl;\n  return Resource.supportsImageBitmapOptions()\n    .then(function (result) {\n      if (result) {\n        return Promise.resolve(\n          Resource.createImageBitmapFromBlob(blob, {\n            flipY: flipY,\n            premultiplyAlpha: false,\n            skipColorSpaceConversion: skipColorSpaceConversion,\n          }),\n        );\n      }\n\n      blobUrl = window.URL.createObjectURL(blob);\n      const resource = new Resource({\n        url: blobUrl,\n        request: request,\n      });\n\n      return resource.fetchImage({\n        flipY: flipY,\n        skipColorSpaceConversion: skipColorSpaceConversion,\n      });\n    })\n    .then(function (result) {\n      if (defined(blobUrl)) {\n        window.URL.revokeObjectURL(blobUrl);\n      }\n      return result;\n    })\n    .catch(function (error) {\n      if (defined(blobUrl)) {\n        window.URL.revokeObjectURL(blobUrl);\n      }\n      return Promise.reject(error);\n    });\n}\nexport default loadImageFromTypedArray;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,YAAY;AAC9B,OAAOC,YAAY,MAAM,mBAAmB;AAC5C,OAAOC,OAAO,MAAM,cAAc;AAClC,OAAOC,QAAQ,MAAM,eAAe;;AAEpC;AACA;AACA;AACA,SAASC,uBAAuBA,CAACC,OAAO,EAAE;EACxC,MAAMC,UAAU,GAAGD,OAAO,CAACC,UAAU;EACrC,MAAMC,MAAM,GAAGF,OAAO,CAACE,MAAM;EAC7B,MAAMC,OAAO,GAAGH,OAAO,CAACG,OAAO;EAC/B,MAAMC,KAAK,GAAGR,YAAY,CAACI,OAAO,CAACI,KAAK,EAAE,KAAK,CAAC;EAChD,MAAMC,wBAAwB,GAAGT,YAAY,CAC3CI,OAAO,CAACK,wBAAwB,EAChC,KACF,CAAC;EACD;EACAV,KAAK,CAACW,MAAM,CAACC,MAAM,CAAC,YAAY,EAAEN,UAAU,CAAC;EAC7CN,KAAK,CAACW,MAAM,CAACE,MAAM,CAAC,QAAQ,EAAEN,MAAM,CAAC;EACrC;;EAEA,MAAMO,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACT,UAAU,CAAC,EAAE;IAClCU,IAAI,EAAET;EACR,CAAC,CAAC;EAEF,IAAIU,OAAO;EACX,OAAOd,QAAQ,CAACe,0BAA0B,CAAC,CAAC,CACzCC,IAAI,CAAC,UAAUC,MAAM,EAAE;IACtB,IAAIA,MAAM,EAAE;MACV,OAAOC,OAAO,CAACC,OAAO,CACpBnB,QAAQ,CAACoB,yBAAyB,CAACT,IAAI,EAAE;QACvCL,KAAK,EAAEA,KAAK;QACZe,gBAAgB,EAAE,KAAK;QACvBd,wBAAwB,EAAEA;MAC5B,CAAC,CACH,CAAC;IACH;IAEAO,OAAO,GAAGQ,MAAM,CAACC,GAAG,CAACC,eAAe,CAACb,IAAI,CAAC;IAC1C,MAAMc,QAAQ,GAAG,IAAIzB,QAAQ,CAAC;MAC5B0B,GAAG,EAAEZ,OAAO;MACZT,OAAO,EAAEA;IACX,CAAC,CAAC;IAEF,OAAOoB,QAAQ,CAACE,UAAU,CAAC;MACzBrB,KAAK,EAAEA,KAAK;MACZC,wBAAwB,EAAEA;IAC5B,CAAC,CAAC;EACJ,CAAC,CAAC,CACDS,IAAI,CAAC,UAAUC,MAAM,EAAE;IACtB,IAAIlB,OAAO,CAACe,OAAO,CAAC,EAAE;MACpBQ,MAAM,CAACC,GAAG,CAACK,eAAe,CAACd,OAAO,CAAC;IACrC;IACA,OAAOG,MAAM;EACf,CAAC,CAAC,CACDY,KAAK,CAAC,UAAUC,KAAK,EAAE;IACtB,IAAI/B,OAAO,CAACe,OAAO,CAAC,EAAE;MACpBQ,MAAM,CAACC,GAAG,CAACK,eAAe,CAACd,OAAO,CAAC;IACrC;IACA,OAAOI,OAAO,CAACa,MAAM,CAACD,KAAK,CAAC;EAC9B,CAAC,CAAC;AACN;AACA,eAAe7B,uBAAuB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}